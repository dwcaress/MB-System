<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML VERSION="2.0">
<HEAD>
   <TITLE>MB-System Unix Manual Page: mbpreprocess</TITLE>
<!-- WEBMAGIC VERSION NUMBER="2.0.2" -->
<!-- WEBMAGIC TRANSLATION NAME="ServerRoot" SRC="/var/www/htdocs/" DST="/" -->
<!-- WEBMAGIC TRANSLATION NAME="ProjectRoot" SRC="./" DST="" -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#336699" VLINK="#997040" ALINK="#CC9900">
<BODY>
<CENTER><H3><U>MB-System Unix Manual Page</U></H3></CENTER>
<PRE>
<H1>mbpreprocess</H1>
Section:  MB-System 5.0  (1)<BR>Updated:  28 January 2025 <BR><A HREF="#index">Index</A>
<HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mbpreprocess</B> - performs preprocessing of swath sonar data as part of setting
up an MB-System processing structure for a dataset.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

Version 5.0
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mbpreprocess</B> [
<BR>

<B>--verbose</B>
<BR>

<B>--help</B>
<BR>

<B>--input</B>=<I>FILE</I>
<BR>

<B>--format</B>=<I>FORMATID</I>
<BR>

<B>--output-directory</B>=<I>DIRECTORY</I>
<BR>

<B>--platform-file</B>=<I>FILE</I>
<BR>

<B>--platform-target-sensor</B>=<I>RECORDID</I>
<BR>

<B>--output-sensor-fnv</B>
<BR>

<B>--skip-existing</B>
<BR>

<B>--nav-file</B>=<I>FILE</I>
<BR>

<B>--nav-file-format</B>=<I>FORMATID</I>
<BR>

<B>--nav-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--nav-sensor</B>=<I>SENSORID</I>
<BR>

<B>--sensordepth-file</B>=<I>FILE</I>
<BR>

<B>--sensordepth-file-format</B>=<I>FORMATID</I>
<BR>

<B>--sensordepth-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--sensordepth-sensor</B>=<I>SENSORID</I>
<BR>

<B>--heading-file</B>=<I>FILE</I>
<BR>

<B>--heading-file-format</B>=<I>FORMATID</I>
<BR>

<B>--heading-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--heading-sensor</B>=<I>SENSORID</I>
<BR>

<B>--altitude-file</B>=<I>FILE</I>
<BR>

<B>--altitude-file-format</B>=<I>FORMATID</I>
<BR>

<B>--altitude-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--altitude-sensor</B>=<I>SENSORID</I>
<BR>

<B>--attitude-file</B>=<I>FILE</I>
<BR>

<B>--attitude-file-format</B>=<I>FORMATID</I>
<BR>

<B>--attitude-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--attitude-sensor</B>=<I>SENSORID</I>
<BR>

<B>--soundspeed-file</B>=<I>FILE</I>
<BR>

<B>--soundspeed-file-format</B>=<I>FORMATID</I>
<BR>

<B>--soundspeed-async</B>=<I>RECORDTYPE</I>
<BR>

<B>--soundspeed-sensor</B>=<I>SENSORID</I>
<BR>

<B>--time-latency-file</B>=<I>FILE</I>
<BR>

<B>--time-latency-file-format</B>=<I>FORMATID</I>
<BR>

<B>--time-latency-constant</B>=<I>SECONDS</I>
<BR>

<B>--time-latency-apply-nav</B>
<BR>

<B>--time-latency-apply-sensordepth</B>
<BR>

<B>--time-latency-apply-heading</B>
<BR>

<B>--time-latency-apply-attitude</B>
<BR>

<B>--time-latency-apply-altitude</B>
<BR>

<B>--time-latency-apply-all-ancilliary</B>
<BR>

<B>--time-latency-apply-survey</B>
<BR>

<B>--time-latency-apply-all</B>
<BR>

<B>--filter</B>=<I>SECONDS</I>
<BR>

<B>--filter-apply-nav</B>
<BR>

<B>--filter-apply-sensordepth</B>
<BR>

<B>--filter-apply-heading</B>
<BR>

<B>--filter-apply-attitude</B>
<BR>

<B>--filter-apply-altitude</B>
<BR>

<B>--filter-apply-all-ancilliary</B>
<BR>

<B>--recalculate-bathymetry</B>
<BR>

<B>--no-change-survey</B>
<BR>

<B>--multibeam-sidescan-source</B>=<I>SOURCE</I>
<BR>

<B>--sounding-amplitude-filter</B>=<I>THRESHOLD</I>
<BR>

<B>--sounding-altitude-filter</B>=<I>THRESHOLD</I>
<BR>

<B>--ignore-water-column</B>
<BR>

<B>--head1-offsets</B>=<I>X/Y/Z/HEADING/ROLL/PITCH</I>
<BR>

<B>--head2-offsets</B>=<I>X/Y/Z/HEADING/ROLL/PITCH</I>
<BR>

<B>--kluge-time-jumps</B>=<I>SECONDS</I>
<BR>

<B>--kluge-fix-7k-timestamps</B>=<I>TARGETOFFSET</I>
<BR>

<B>--kluge-ancilliary-time-jumps</B>=<I>SECONDS</I>
<BR>

<B>--kluge-mbaripressure-time-jumps</B>=<I>THRESHOLD</I>
<BR>

<B>--kluge-beam-tweak</B>=<I>FACTOR</I>
<BR>

<B>--kluge-soundspeed-tweak</B>=<I>FACTOR</I>
<BR>

<B>--kluge-zero-attitude-correction</B>
<BR>

<B>--kluge-zero-alongtrack-angles</B>
<BR>

<B>--kluge-fix-wissl-timestamps</B>
<BR>

<B>--kluge-auv-sentry-sensordepth</B>
<BR>

<B>--kluge-ignore-snippets</B>
<BR>

<B>--kluge-sonardepth-from-heave</B>
<BR>

<B>--kluge-flipsign-roll</B>
<BR>

<B>--kluge-flipsign-pitch</B>
<BR>

]
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

MBpreprocess handles preprocessing of swath sonar data as part of setting
up an MB-System processing structure for a dataset. This program replaces
the several format-specific preprocessing programs
found in MB-System version 5 releases with a single program for version 6.
In many cases the preprocessing consists only of creating the ancillary files
parallel to the raw files, but in others the data must be translated to
different formats. The proprocessing step can also be used to merge navigation,
attitude, sound speed, or other ancillary data with the survey data.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>MB-SYSTEM AUTHORSHIP</H2>

David W. Caress
<BR>

<BR>&nbsp;&nbsp;Monterey&nbsp;Bay&nbsp;Aquarium&nbsp;Research&nbsp;Institute
<BR>

Dale N. Chayes
<BR>

<BR>&nbsp;&nbsp;Center&nbsp;for&nbsp;Coastal&nbsp;and&nbsp;Ocean&nbsp;Mapping
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;New&nbsp;Hampshire
<BR>

Christian do Santos Ferreira
<BR>

<BR>&nbsp;&nbsp;MARUM&nbsp;-&nbsp;Center&nbsp;for&nbsp;Marine&nbsp;Environmental&nbsp;Sciences
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;Bremen
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>--help</B>

<DD>
This option causes <B>mbconfig</B> to print out its usage options and exit.
<DT><B>--verbose</B>

<DD>
By default <B>mbpreprocess</B> outputs minimal information to the shell. This option
causes the program to indicate it's progress as it runs.
<P>
<DT><B>--input=</B><I>FILE</I>

<DD>
Swath data file from which the input data will be read, or a datalist file
containing a list of input swath data files and/or other datalist files.
If <I>FILE</I> is a datalist file, then mbpreprocess will attempt to preprocess
all data files identified by recursively reading the datalist structure
referenced in <I>FILE</I>.
<DT><B>--format=</B><I>FORMATID</I>

<DD>
Sets the <B>MBIO</B> integer format identifier
for the input file <I>FILE</I> specified with the
<B>--input</B> option. By default, <B>mbpreprocess</B>
infers the format from the &quot;*.mbXX&quot; <B>MB-System</B> suffix
convention.
<DT><B>--output-directory</B>=<I>DIRECTORY</I>

<DD>
By default the output files written by <B>mbpreprocess</B> are located in the same
directory as the input swath files. This options allows the user to specify a
different directory into which the output files are written.
<DT><B>--platform-file=</B><I>FILE</I>

<DD>
Causes <B>mbpreprocess</B> to input and utilize an <B>MB-System</B> platform file,
which provides a complete description of the relative geometry of sensors on a
survey platform. Platform files can be constructed using the program <B>mbmakeplatform</B>.
Most datasets do not require the use of a platform file, and only a few data formats
are supported with preprocessing functionality utilizing platform files (e.g. the
Reson 7k format 88, the Teledyne 7k3 format 89, the 3D at Depth lidar formats
232 and 233). Platform files are needed only when survey data have been collected
without integrating the asynchronous navigation and attitude data and when the
positional and angular offsets between the survey sensor (e.g. multibeam sonar,
lidar, stereo camera rig) have not been specified in the data stream. Most often
this situation is associated with survey systems on submerged platforms like
autonomous underwater vehicles (AUVs) or remotely operated vehicles (ROVs).
In cases where the sonar control and data logging software have a full platform
description and apply that to fully correct the survey data in real time, no
platform file is needed for the preprocessing stage in <B>MB-System</B>. Specifically,
all datasets collected using Kongsberg multibeam sonars do not require use of a
platform file (the only exception to this would be if the positional offsets between
sensors were incorrectly specified in the multibeam configuration).
<DT><B>--platform-target-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the survey data being preprocessed. This determines
how lever arm calculations are done. For instance, if sensor 0 is the source of
attitude and lateral position data (e.g. an inertial navigation system), sensor 1
is the source of vertical position data (e.g. a pressure sensor), and sensor 2 is
a multibeam sonar for which the bathymetry data are not initially motion corrected,
then one should use <B>--platform-target-sensor</B>=<I>2</I> so that the lever arm
calculations produce the position and attitude of the multibeam sonar. The
multibeam bathymetry are then calculated using the corrected position and
attitude data. This option is necessary because in general a platform may have
multiple survey sensors (e.g. multibeam sonar, lidar, stereo camera rig, subbottom
profiler, sidescan sonar), each of which will have a separate data processing
workflow.
<DT><B>--output-sensor-fnv</B>

<DD>
Causes <B>mbpreprocess</B> to output &quot;fast navigation&quot; or *.fnv files for each
of the sensors described in the platform file specified with the <B>--platform-file</B>
option. These *.fnv files will be corrected for the lever arms specified by the
positional and angular offsets defined in the platform file.
<DT><B>--skip-existing</B>

<DD>
This option causes <B>mbpreprocess</B> to skip preprocessing when the output files
already exist and are up to date relative to the inputs.
<BR>

<DT><B>--nav-file</B>=<I>filename</I>

<DD>
<BR>

Specifies an external time series file from which to merge sonar position (navigation),
replacing navigation data included in the data stream.
By default <B>mbpreprocess</B> attempts to use navigation values included in the
input data.
<DT><B>--nav-file-format</B>=<I>format_id</I>

<DD>
<BR>

Specifies the format of an external navigation time series file from which position values
are derived (as defined with <B>--nav-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;longitude&nbsp;latitude&nbsp;speed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;longitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;latitude&nbsp;are&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;and&nbsp;speed&nbsp;is&nbsp;in&nbsp;km/hour&nbsp;(and&nbsp;is&nbsp;optional).
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;longitude&nbsp;latitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;longitude&nbsp;and&nbsp;latitude&nbsp;are&nbsp;in&nbsp;decimal&nbsp;degrees.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;longitude&nbsp;latitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;longitude&nbsp;and&nbsp;latitude&nbsp;are&nbsp;in&nbsp;decimal&nbsp;degrees.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;longitude&nbsp;latitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;longitude&nbsp;and&nbsp;latitude&nbsp;are&nbsp;in&nbsp;decimal&nbsp;degrees.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.
<BR>

<BR>&nbsp;&nbsp;&nbsp;5:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;in&nbsp;the&nbsp;1990's&nbsp;era&nbsp;L-DEO&nbsp;processed&nbsp;nav&nbsp;format&nbsp;with&nbsp;lines
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yy+jjjhhmmssNddmmmmmmEdddmmmmmm
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;yy&nbsp;is&nbsp;the&nbsp;two&nbsp;digit&nbsp;year&nbsp;(after&nbsp;1999&nbsp;the&nbsp;&quot;yy+&quot;&nbsp;was&nbsp;replaced&nbsp;by&nbsp;a&nbsp;four
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digit&nbsp;year&nbsp;&quot;yyyy&quot;),&nbsp;jjj&nbsp;is&nbsp;the&nbsp;julian_day,&nbsp;hh&nbsp;is&nbsp;the&nbsp;hour,&nbsp;mm
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;minutes,&nbsp;and&nbsp;ss&nbsp;is&nbsp;seconds.&nbsp;The&nbsp;latitude&nbsp;is&nbsp;given&nbsp;as
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nddmmmmmmand&nbsp;where&nbsp;N&nbsp;is&nbsp;'N'&nbsp;for&nbsp;north&nbsp;and&nbsp;'S'&nbsp;for&nbsp;south,&nbsp;dd&nbsp;are&nbsp;integer
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;degrees,&nbsp;and&nbsp;mmmmmm&nbsp;is&nbsp;minutes&nbsp;*&nbsp;10000.&nbsp;The&nbsp;longitude&nbsp;is&nbsp;given&nbsp;as
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Edddmmmmmmand&nbsp;where&nbsp;E&nbsp;is&nbsp;'E'&nbsp;for&nbsp;east&nbsp;and&nbsp;'W'&nbsp;for&nbsp;west,&nbsp;ddd&nbsp;are&nbsp;integer
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;degrees,&nbsp;and&nbsp;mmmmmm&nbsp;is&nbsp;minutes&nbsp;*&nbsp;10000.
<BR>

<BR>&nbsp;&nbsp;&nbsp;6&nbsp;or&nbsp;7:&nbsp;NMEA&nbsp;0183&nbsp;position&nbsp;strings
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Several&nbsp;NMEA&nbsp;and&nbsp;NMEA-like&nbsp;strings&nbsp;containing&nbsp;position&nbsp;are&nbsp;recognized,
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;can&nbsp;be&nbsp;parsed&nbsp;with&nbsp;and&nbsp;without&nbsp;line&nbsp;break&nbsp;characters.&nbsp;These&nbsp;strings
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;ZDA,&nbsp;GLL,&nbsp;GGA,&nbsp;DAT,&nbsp;and&nbsp;UNX.
<BR>

<BR>&nbsp;&nbsp;&nbsp;8:&nbsp;Simrad&nbsp;90&nbsp;format&nbsp;navigation&nbsp;files&nbsp;with&nbsp;lines
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ddmmyy&nbsp;hhmmssss&nbsp;ddmmmmmmmN&nbsp;dddmmmmmmmE
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;dd&nbsp;is&nbsp;day&nbsp;of&nbsp;the&nbsp;month,&nbsp;mm&nbsp;is&nbsp;the&nbsp;month,&nbsp;yy&nbsp;is&nbsp;the&nbsp;two&nbsp;digit&nbsp;year,
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hh&nbsp;is&nbsp;the&nbsp;hour,&nbsp;mm&nbsp;is&nbsp;the&nbsp;minute,&nbsp;and&nbsp;ssss&nbsp;is&nbsp;seconds&nbsp;*&nbsp;100.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;latitude&nbsp;is&nbsp;given&nbsp;as&nbsp;ddmmmmmmmN&nbsp;where&nbsp;dd&nbsp;are&nbsp;integer&nbsp;degrees,
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mmmmmmm&nbsp;is&nbsp;minutes&nbsp;*&nbsp;100000,&nbsp;and&nbsp;N&nbsp;is&nbsp;'N'&nbsp;for&nbsp;north&nbsp;and&nbsp;'S'&nbsp;for&nbsp;south&nbsp;latitude.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;longitude&nbsp;is&nbsp;given&nbsp;as&nbsp;dddmmmmmmmE&nbsp;where&nbsp;ddd&nbsp;are&nbsp;integer&nbsp;degrees,
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mmmmmmm&nbsp;is&nbsp;minutes&nbsp;*&nbsp;100000,&nbsp;and&nbsp;E&nbsp;is&nbsp;'E'&nbsp;for&nbsp;east&nbsp;and&nbsp;'W'&nbsp;for&nbsp;west&nbsp;longitude.
<P>
<P>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;second&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;longitude&nbsp;and&nbsp;latitude&nbsp;are&nbsp;in&nbsp;decimal
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;degrees.&nbsp;The&nbsp;longitude&nbsp;is&nbsp;given&nbsp;as
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Edddmmmmmmand&nbsp;where&nbsp;E&nbsp;is&nbsp;'E'&nbsp;for&nbsp;east&nbsp;and&nbsp;'W'&nbsp;for&nbsp;west,&nbsp;ddd&nbsp;are&nbsp;integer
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;degrees,&nbsp;and&nbsp;mmmmm&nbsp;is&nbsp;minutes&nbsp;*&nbsp;10000.
<BR>

<BR>&nbsp;&nbsp;&nbsp;9:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;white-space&nbsp;delimited&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;yr&nbsp;is&nbsp;the&nbsp;four&nbsp;digit&nbsp;year,&nbsp;mon&nbsp;is&nbsp;the&nbsp;month,&nbsp;day&nbsp;is&nbsp;the&nbsp;day&nbsp;of&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month,&nbsp;min&nbsp;is&nbsp;the&nbsp;minute,&nbsp;second&nbsp;is&nbsp;the&nbsp;decimal&nbsp;seconds,&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;lon&nbsp;is&nbsp;the&nbsp;longitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;lat&nbsp;is&nbsp;the&nbsp;latitude&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;heading&nbsp;is&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees,&nbsp;speed&nbsp;is&nbsp;in&nbsp;km/hour,&nbsp;and&nbsp;sensordepth&nbsp;is&nbsp;in&nbsp;meters.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.&nbsp;If&nbsp;present,&nbsp;roll&nbsp;and&nbsp;pitch&nbsp;are&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees&nbsp;and&nbsp;heave&nbsp;is&nbsp;in&nbsp;meters.
<BR>

<BR>&nbsp;&nbsp;&nbsp;10:&nbsp;R2R&nbsp;(Rolling&nbsp;deck&nbsp;to&nbsp;Repository)&nbsp;navigation&nbsp;format&nbsp;with&nbsp;ASCCI&nbsp;text&nbsp;lines
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yyyy-mm-ddThh:mm:ss.sssZ&nbsp;lon&nbsp;lat&nbsp;quality&nbsp;nsat&nbsp;dilution&nbsp;height
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;the&nbsp;lon&nbsp;and&nbsp;lat&nbsp;fields&nbsp;are&nbsp;in&nbsp;decimal&nbsp;degrees&nbsp;with&nbsp;south&nbsp;latitudes
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;west&nbsp;longitudes&nbsp;negative,&nbsp;and&nbsp;the&nbsp;last&nbsp;four&nbsp;quantities&nbsp;relating&nbsp;to
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GPS&nbsp;fix&nbsp;quality.
<DT><B>--nav-async</B>=<I>record_kind</I>

<DD>
<BR>

Specifies the type of data records from which position values
are derived (as defined with <B>--nav-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV:&nbsp;&nbsp;12&nbsp;(navigation&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV1:&nbsp;29&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV2:&nbsp;30&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV3:&nbsp;31&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;3)
<BR>

What types of data records are present is format-dependent, as is the default
choice of which record type is used as the navigation source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--nav-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the navigation data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file. Note that if the external navigation has been calculated to
define the location of the target survey sensor, then the sensor id should be
the same as the survey sensor so that a null lever arm correction is made.
<BR>

<DT><B>--sensordepth-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to merge sensor depth,
replacing sensor depth data included in the data stream.
By default <B>mbpreprocess</B> attempts to use sensor depth values included in the
input data.
<DT><B>--sensordepth-file-format=</B><I>FORMATID</I>

<DD>
<BR>

Specifies the format of an external sensor depth time series file from which sensor depth values
are derived (as defined with <B>--sensordepth-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;9:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;white-space&nbsp;delimited&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;yr&nbsp;is&nbsp;the&nbsp;four&nbsp;digit&nbsp;year,&nbsp;mon&nbsp;is&nbsp;the&nbsp;month,&nbsp;day&nbsp;is&nbsp;the&nbsp;day&nbsp;of&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month,&nbsp;min&nbsp;is&nbsp;the&nbsp;minute,&nbsp;second&nbsp;is&nbsp;the&nbsp;decimal&nbsp;seconds,&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;lon&nbsp;is&nbsp;the&nbsp;longitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;lat&nbsp;is&nbsp;the&nbsp;latitude&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;heading&nbsp;is&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees,&nbsp;speed&nbsp;is&nbsp;in&nbsp;km/hour,&nbsp;and&nbsp;sensordepth&nbsp;is&nbsp;in&nbsp;meters.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.&nbsp;If&nbsp;present,&nbsp;roll&nbsp;and&nbsp;pitch&nbsp;are&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees&nbsp;and&nbsp;heave&nbsp;is&nbsp;in&nbsp;meters.
<DT><B>--sensordepth-async=</B><I>RECORDTYPE</I>

<DD>
Specifies the type of data records from which sensor depth values
are derived (as defined with <B>--sensordepth-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV:&nbsp;&nbsp;12&nbsp;(navigation&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_HEIGHT&nbsp;16&nbsp;(sensor&nbsp;height&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV1:&nbsp;29&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV2:&nbsp;30&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV3:&nbsp;31&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;3)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_SONARDEPTH&nbsp;59&nbsp;(sensor&nbsp;depth&nbsp;data)
<BR>

What types of data records are present is format-dependent, as is the default
choice of which record type is used as the sensor depth source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--sensordepth-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the sensor depth data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file. Note that if the external sensor depth data have been calculated to
define the vertical location of the target survey sensor, then the sensor id should be
the same as the survey sensor so that a null lever arm correction is made.
<BR>

<DT><B>--heading-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to merge heading,
replacing heading data included in the data stream.
By default <B>mbpreprocess</B> attempts to use heading values included in the
input data.
<DT><B>--heading-file-format=</B><I>FORMATID</I>

<DD>
Specifies the format of an external heading time series file from which heading values
are derived (as defined with <B>--heading-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;heading
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;heading&nbsp;values&nbsp;are&nbsp;in&nbsp;degrees&nbsp;positive&nbsp;clockwise&nbsp;from&nbsp;forward.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;heading
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;heading&nbsp;values&nbsp;in&nbsp;degrees&nbsp;positive&nbsp;clockwise&nbsp;from&nbsp;forward.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;heading
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;heading&nbsp;values&nbsp;in&nbsp;degrees&nbsp;positive&nbsp;clockwise&nbsp;from&nbsp;forward.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;heading
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;heading&nbsp;values&nbsp;in&nbsp;degrees&nbsp;positive&nbsp;clockwise&nbsp;from&nbsp;forward.
<BR>

<BR>&nbsp;&nbsp;&nbsp;9:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;white-space&nbsp;delimited&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;yr&nbsp;is&nbsp;the&nbsp;four&nbsp;digit&nbsp;year,&nbsp;mon&nbsp;is&nbsp;the&nbsp;month,&nbsp;day&nbsp;is&nbsp;the&nbsp;day&nbsp;of&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month,&nbsp;min&nbsp;is&nbsp;the&nbsp;minute,&nbsp;second&nbsp;is&nbsp;the&nbsp;decimal&nbsp;seconds,&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;lon&nbsp;is&nbsp;the&nbsp;longitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;lat&nbsp;is&nbsp;the&nbsp;latitude&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;heading&nbsp;is&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees,&nbsp;speed&nbsp;is&nbsp;in&nbsp;km/hour,&nbsp;and&nbsp;heading&nbsp;is&nbsp;in&nbsp;meters.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.&nbsp;If&nbsp;present,&nbsp;roll&nbsp;and&nbsp;pitch&nbsp;are&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees&nbsp;and&nbsp;heave&nbsp;is&nbsp;in&nbsp;meters.
<DT><B>--heading-async=</B><I>RECORDTYPE</I>

<DD>
Specifies the type of data records from which heading values
are derived (as defined with <B>--heading-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;(navigation&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_HEADING:&nbsp;&nbsp;17&nbsp;(heading&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;3)
<BR>

What types of data records are present is format-dependent, as is the default
choice of which record type is used as the heading source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--heading-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the heading data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file.
<BR>

<DT><B>--altitude-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to merge altitude data,
replacing altitude data included in the data stream.
By default <B>mbpreprocess</B> attempts to use altitude values included in the
input data. Typically altitude data are critical only for processing sidescan
data in the absence of swath bathymetry.
<DT><B>--altitude-file-format=</B><I>FORMATID</I>

<DD>
Specifies the format of an external altitude time series file from which altitude values
are derived (as defined with <B>--altitude-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;altitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;altitude&nbsp;values&nbsp;are&nbsp;in&nbsp;meters.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;altitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;altitude&nbsp;values&nbsp;are&nbsp;in&nbsp;meters.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;altitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;altitude&nbsp;values&nbsp;are&nbsp;in&nbsp;meters.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;altitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;altitude&nbsp;values&nbsp;are&nbsp;in&nbsp;meters.
<DT><B>--altitude-async=</B><I>RECORDTYPE</I>

<DD>
Specifies the type of data records from which heading values
are derived (as defined with <B>--heading-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;(navigation&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;3)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_ALTITUDE:&nbsp;60&nbsp;(altitude&nbsp;data)
<BR>

What types of data records are present is format-dependent, as is the default
choice of which record type is used as the altitude source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--altitude-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the navigation data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file.
<BR>

<DT><B>--attitude-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to merge attitude data (roll and pitch, often also heave),
replacing attitude data included in the data stream.
By default <B>mbpreprocess</B> attempts to use attitude values included in the
input data.
<DT><B>--attitude-file-format=</B><I>FORMATID</I>

<DD>
Specifies the format of an external attitude time series file from which attitude values
are derived (as defined with <B>--attitude-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;sensordepth&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;9:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;white-space&nbsp;delimited&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yr&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;time_d&nbsp;lon&nbsp;lat&nbsp;heading&nbsp;speed&nbsp;sensordepth&nbsp;roll&nbsp;pitch&nbsp;heave
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;yr&nbsp;is&nbsp;the&nbsp;four&nbsp;digit&nbsp;year,&nbsp;mon&nbsp;is&nbsp;the&nbsp;month,&nbsp;day&nbsp;is&nbsp;the&nbsp;day&nbsp;of&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;month,&nbsp;min&nbsp;is&nbsp;the&nbsp;minute,&nbsp;second&nbsp;is&nbsp;the&nbsp;decimal&nbsp;seconds,&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;lon&nbsp;is&nbsp;the&nbsp;longitude
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;lat&nbsp;is&nbsp;the&nbsp;latitude&nbsp;in&nbsp;decimal&nbsp;degrees,&nbsp;heading&nbsp;is&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees,&nbsp;speed&nbsp;is&nbsp;in&nbsp;km/hour,&nbsp;and&nbsp;sensordepth&nbsp;is&nbsp;in&nbsp;meters.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;South&nbsp;latitudes&nbsp;are&nbsp;negative.&nbsp;Longitude&nbsp;may&nbsp;be&nbsp;defined&nbsp;on&nbsp;either&nbsp;the
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-180.0&nbsp;to&nbsp;+180.0&nbsp;or&nbsp;0.0&nbsp;to&nbsp;360.0&nbsp;domains.&nbsp;Roll&nbsp;and&nbsp;pitch&nbsp;are&nbsp;in
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decimal&nbsp;degrees&nbsp;and&nbsp;heave&nbsp;is&nbsp;in&nbsp;meters.
<DT><B>--attitude-async=</B><I>RECORDTYPE</I>

<DD>
Specifies the type of data records from which attitude values
are derived (as defined with <B>--attitude-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;(navigation&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;29&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_NAV3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;31&nbsp;(navigation&nbsp;data&nbsp;from&nbsp;navigation&nbsp;system&nbsp;3)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_ATTITUDE:&nbsp;&nbsp;18&nbsp;(attitude&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_ATTITUDE1:&nbsp;56&nbsp;(attitude&nbsp;data&nbsp;from&nbsp;attitude&nbsp;system&nbsp;1)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_ATTITUDE2:&nbsp;57&nbsp;(attitude&nbsp;data&nbsp;from&nbsp;attitude&nbsp;system&nbsp;2)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_ATTITUDE3:&nbsp;58&nbsp;(attitude&nbsp;data&nbsp;from&nbsp;attitude&nbsp;system&nbsp;3)
#.br
What types of data records are present is format-dependent, as is the default
choice of which record type is used as the attitude source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--attitude-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the navigation data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file.
<BR>

<DT><B>--soundspeed-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to merge sound speed data,
replacing sound speed data included in the data stream.
By default <B>mbpreprocess</B> attempts to use sound speed values included in the
input data. The sound speed values represent the speed of sound at the survey
sensor (i.e. the sonar arrays); typically these are input only when the
preprocessing includes recalculation of multibeam bathymetry.
<DT><B>--soundspeed-file-format=</B><I>FORMATID</I>

<DD>
Specifies the format of an external soundspeed time series file from which soundspeed values
are derived (as defined with <B>--soundspeed-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;soundspeed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soundspeed&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;soundspeed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;soundspeed&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;soundspeed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;soundspeed&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;soundspeed
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;soundspeed&nbsp;values&nbsp;are&nbsp;in&nbsp;meters&nbsp;positive&nbsp;down.
<DT><B>--soundspeed-async=</B><I>RECORDTYPE</I>

<DD>
Specifies the type of data records from which sound speed values
are derived (as defined with <B>--soundspeed-file-format</B>). Options for the
<I>record_kind</I> include:
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_DATA:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;(survey&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_SSV:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19&nbsp;(sound&nbsp;speed&nbsp;data)
<BR>&nbsp;&nbsp;&nbsp;&nbsp;MB_DATA_CTD:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;34&nbsp;(sound&nbsp;speed&nbsp;data)
#.br
What types of data records are present is format-dependent, as is the default
choice of which record type is used as the sound speed source. The
program <B>mbinfo</B> can be used with the <B>-N</B> option to determine the numbers
of different record types present in a data file.
<DT><B>--soundspeed-sensor=</B><I>SENSORID</I>

<DD>
If a platform file has been specified, this option defines the id of the sensor
description associated with the navigation data being used, whether that
derives from asynchronous records in the data stream or from an external
navigation file.
<BR>

<DT><B>--time-latency-file=</B><I>FILE</I>

<DD>
Specifies an external time series file from which to read a time latency model to be applied
to some or all of the timestamps in the data stream.
<DT><B>--time-latency-file-format=</B><I>FORMATID</I>

<DD>
Specifies the format of an external time latency time series file from which time latency values
are derived (as defined with <B>--time-latency-file</B>). Options for the <I>format_id</I>
value are:
<BR>

<BR>&nbsp;&nbsp;&nbsp;1:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time_d&nbsp;timeshift
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;time_d&nbsp;is&nbsp;time&nbsp;in&nbsp;decimal&nbsp;epoch&nbsp;seconds&nbsp;(seconds&nbsp;since&nbsp;1970),&nbsp;and
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeshift&nbsp;values&nbsp;are&nbsp;in&nbsp;seconds.
<BR>

<BR>&nbsp;&nbsp;&nbsp;2:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;month&nbsp;day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;timeshift
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;month,&nbsp;day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;timeshift&nbsp;values&nbsp;are&nbsp;in&nbsp;seconds.
<BR>

<BR>&nbsp;&nbsp;&nbsp;3:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;hour&nbsp;minute&nbsp;second&nbsp;timeshift
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;hour,&nbsp;and&nbsp;minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;timeshift&nbsp;values&nbsp;are&nbsp;in&nbsp;seconds.
<BR>

<BR>&nbsp;&nbsp;&nbsp;4:&nbsp;ASCCI&nbsp;text&nbsp;file&nbsp;with&nbsp;lines&nbsp;of&nbsp;the&nbsp;form:
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year&nbsp;julian_day&nbsp;day_minute&nbsp;second&nbsp;timeshift
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;year,&nbsp;julian_day,&nbsp;and&nbsp;day_minute&nbsp;values&nbsp;are&nbsp;integers,&nbsp;the&nbsp;second
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;decimal,&nbsp;and&nbsp;timeshift&nbsp;values&nbsp;are&nbsp;in&nbsp;seconds.
<DT><B>--time-latency-constant=</B><I>SECONDS</I>

<DD>
Specifies a constant time latency value
<DT><B>--time-latency-apply-nav</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the navigation data merged with the survey data.
<DT><B>--time-latency-apply-sensordepth</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the sonar depth data merged with the survey data.
<DT><B>--time-latency-apply-heading</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the heading data merged with the survey data.
<DT><B>--time-latency-apply-attitude</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the attitude data merged with the survey data.
<DT><B>--time-latency-apply-altitude</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the altitude data merged with the survey data.
<DT><B>--time-latency-apply-all-ancilliary</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with all of the ancilliary data merged with the survey data (i.e. the
navigation, sensor depth, heading, attitude, and altitude data).
<DT><B>--time-latency-apply-survey</B>

<DD>
Specifies that the time latency correction will be applied to the time stamps
associated with the survey data.
<DT><B>--time-latency-apply-all</B>

<DD>
Specifies that the time latency correction will be applied to all time stamps
associated with survey data and ancilliary data.
<BR>

<DT><B>--filter=</B><I>SECONDS</I>

<DD>
Specifies the half width in seconds of a Gaussian smoothing filter that can be applied to
ancilliary time series data prior to merging with the survey data. This includes
the navigation, heading, sensor depth, attitude and altitude data.
<DT><B>--filter-apply-nav</B>

<DD>
Specifies that the smoothing filtering will be applied to the navigation data
merged with the survey data.
<DT><B>--filter-apply-sensordepth</B>

<DD>
Specifies that the smoothing filtering will be applied to the sensor depth data
merged with the survey data.
<DT><B>--filter-apply-heading</B>

<DD>
Specifies that the smoothing filtering will be applied to the heading data
merged with the survey data.
<DT><B>--filter-apply-attitude</B>

<DD>
Specifies that the smoothing filtering will be applied to the attitude data
merged with the survey data.
<DT><B>--filter-apply-altitude</B>

<DD>
Specifies that the smoothing filtering will be applied to the altitude data
merged with the survey data.
<DT><B>--filter-apply-all-ancilliary</B>

<DD>
Specifies that the smoothing filtering will be will be applied to all of the a
ncilliary data merged with the survey data (i.e. the
navigation, sensor depth, heading, attitude, and altitude data).
<BR>

<DT><B>--recalculate-bathymetry</B>

<DD>
This option causes the bathymetry in the survey data to be recalculated during
preprocessing. The specifics of the recalculation are format dependent.
<DT><B>--no-change-survey</B>

<DD>
This option forces <B>mbpreprocess</B> to not modify the survey data.
<DT><B>--multibeam-sidescan-source=</B><I>SOURCE</I>

<DD>
This option defines the source type for the backscatter used in calculating
the sidescan imagery associated with multibeam data for multibeam data formats
that have multiple types of backscatter records and may have more that one type
available in a data stream. The relevant formats are Reson 7k (88), Teledyne 7k3 (89),
and Kongsberg kmall (161). If <I>SOURCE</I> = S or s, then uncalibrated snippet
records will be used. If <I>SOURCE</I> = C or c, then the source records will be
calibrated snippets. If <I>SOURCE</I> = B or b, then the source will be wide
beam backscatter that is provided in a sidescan-like port and starboard time
series. Finally, if <I>SOURCE</I> = W or w, then the source records will be
calibrated wide beam backscatter. By default, for the relevant formats
<B>mbpreprocess</B> will attempt to use the best available source, with a
preference order of calibrated snippets, then snippets, then calibrated wide
beam, then wide beam.
<DT><B>--sounding-amplitude-filter=</B><I>THRESHOLD</I>

<DD>
This option enables flagging soundings that have amplitude or intensity values
less than the specified threshold value for some data formats. The two relevant
formats are Reson 7k (88) and 3D at Depth lidar (232 and 233).
<DT><B>--sounding-altitude-filter=</B><I>THRESHOLD</I>

<DD>
This option enables flagging soundings that have altitude values
less than the specified threshold value for some data formats. The relevant
formats are 3D at Depth lidar (232 and 233).
<DT><B>--head1-offsets</B>=<I>X/Y/Z/HEADING/ROLL/PITCH</I>

<DD>
This option specifies the positional and angular offsets of optical head 1 relative
to the origin for a dual head lidar system. The only relevant formats are for
3D at Depth lidars (232 and 233).
<DT><B>--head2-offsets</B>=<I>X/Y/Z/HEADING/ROLL/PITCH</I>

<DD>
This option specifies the positional and angular offsets of optical head 2 relative
to the origin for a dual head lidar system. The only relevant formats are for
3D at Depth lidars (232 and 233).
<DT><B>--kluge-time-jumps=</B><I>SECONDS</I>

<DD>
<DT><B>--kluge-fix-7k-timestamps=</B><I>TARGETOFFSET</I>

<DD>
This option was created to fix some Teledyne Reson T50 multibeam data (format 89) collected
in 2024 with an MBARI Mapping AUV. The sonar ping timestamps jumped considerably (by as
much as a day!!) while the ancillary nav, sensor depth, and attitude records maintained
accurate timing. In good data the ping records will occur in the datastream with a fairly
stable delay from the most recent ancillary records (0.7 seconds in this case). This
option forces the pings records to have timestamps that have the target offset from the
most recent ancillary records whenever the recorded offset magnitude is more than four 
times the target offset.
<DT><B>--kluge-ancilliary-time-jumps=</B><I>SECONDS</I>

<DD>
<DT><B>--kluge-mbaripressure-time-jumps=</B><I>SECONDS</I>

<DD>
<DT><B>--kluge-beam-tweak=</B><I>FACTOR</I>

<DD>
<DT><B>--kluge-soundspeed-tweak=</B><I>FACTOR</I>

<DD>
<DT><B>--kluge-zero-attitude-correction</B>

<DD>
<DT><B>--kluge-zero-alongtrack-angles</B>

<DD>
This option zeroes alongtrack angles used to calculated bathymetry.
<DT><B>--kluge-fix-wissl-timestamps</B>

<DD>
<DT><B>--kluge-ignore-snippets</B>

<DD>
This option was created to handle some Kongsberg EM122 data in *.all files (supported
as format 58) in which most, but not all, of the snippet backscatter records are missing.
The i/o module for this format views pings without snippet records as incomplete.
When <B>--kluge-ignore-snippets</B> is specified, <B>mbpreprocess</B> creates an empty
snippet record for each ping, and ignores any snippet records actually in the
input datastream.
<DT><B>--kluge-sonardepth-from-heave</B>

<DD>
This option causes heave values to be moved to the sonardepth (sometimes sensordepth)
field, leaving the heave value as zero, for each survey ping. This is currently
only relevant to the preprocessing of Imagenex DeltaT multibeam data in the vendor
83P format (191). The output of preprocessing format 191 data are format 192 files.
<DT><B>--kluge-early-mbari-mapping-auv</B>

<DD>
This option pertains only to Reson 7125 200 kHz multibeam data collected on the first
MBARI Mapping AUV from 2006 through 2009. Invoking this kluge triggers <B>mbpreprocess</B>
to modify the beam quality factors to be consistent with the later (&gt;2009) standard for
the original bathymetry records in Reson s7k format data.
<DT><B>--kluge-flipsign-roll</B><DD>
This option multiplies the roll values to merged by -1, flipping the sign.
<DT><B>--kluge-flipsign-pitch</B><DD>
This option multiplies the pitch values to merged by -1, flipping the sign.
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

To be written.....
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="mbsystem.html">mbsystem</A></B>(1), <B><A HREF="mbdatalist.html">mbdatalist</A></B>(1), <B><A HREF="mbprocess.html">mbprocess</A></B>(1)
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>BUGS</H2>

Oh yeah.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">MB-SYSTEM AUTHORSHIP</A><DD>
<DT><A HREF="#lbAG">OPTIONS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">BUGS</A><DD>
</DL>
<HR>
</PRE>

<CENTER><P><BR>
Last Updated: 28 January 2025</P></CENTER>

<HR>
<center>
<p>
<a href="https://www.mbari.org/products/research-software/mb-system/"><< MB-System website</a> | <a href="https://www.mbari.org/technology/mb-system/documentation/"> MB-System Documenation>></a> | <a href="mbsystem_man_list.html">MB-System Manual Page List</a></p>
</center>
</BODY>
</HTML>
