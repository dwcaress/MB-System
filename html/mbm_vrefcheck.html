<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML VERSION="2.0">
<HEAD>
   <TITLE>MB-System Unix Manual Page: mbm_vrefcheck</TITLE>
<!-- WEBMAGIC VERSION NUMBER="2.0.2" -->
<!-- WEBMAGIC TRANSLATION NAME="ServerRoot" SRC="/var/www/htdocs/" DST="/" -->
<!-- WEBMAGIC TRANSLATION NAME="ProjectRoot" SRC="./" DST="" -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#336699" VLINK="#997040" ALINK="#CC9900">
<BODY>
<CENTER><H3><U>MB-System Unix Manual Page</U></H3></CENTER>
<PRE>
<H1>mbm_vrefcheck</H1>
Section: MB-System 5.0 (l)<BR>Updated: 4 January 2001<BR><A HREF="#index">Index</A>
<HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mbm_vrefcheck</B> - Macro to generate plot of crosstrack seafloor slope
from a swath sonar file.  The noise in this time series largely reflects
noise in the vertical reference used by the sonar.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

Version 5.0
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mbm_vrefcheck</B> <B>-F</B><I>format </I><B>-I</B><I>file </I>[<B>-S</B><I>scale </I><B>-X</B><I>xaxis </I><B>-A</B><I>xmin </I><B>-B</B><I>xmax</I>]
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>mbm_vrefcheck</B> is a macro which generates a plot of high pass
filtered apparent crosstrack seafloor slope.  The noise in this signal
appears to be dominated by noise in the vertical reference data 
used by the sonar system.  The crosstrack slopes are obtained by running
<B>mblist</B>. The resulting time series is filtered using the <B>GMT</B>
utility <B>filter1d</B>, which uses a time domain median filter with
a time width of 5 minutes.  The filtered signal contains little of
the actual bathymetric signal, and thus represents a combination of
noise in the seafloor reflection travel times and the vertical 
reference data stream.  Close inspection of Hydrosweep data collected 
on the R/V Ewing with an interactive editor (<B>mbedit</B>) reveals
clear variability in the observed crosstrack slope, even when
surveying essentially flat seafloor.  This suggests that the filtered
signal is probably dominated by vertical reference noise on the Ewing.
The plot is automatically rasterized and sent to a Novajet plotter
(assuming one is on the R/V Ewing).
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>AUTHORSHIP</H2>

David W. Caress (<A HREF="mailto:caress@mbari.org">caress@mbari.org</A>)
<BR>

<BR>&nbsp;&nbsp;Monterey&nbsp;Bay&nbsp;Aquarium&nbsp;Research&nbsp;Institute
<BR>

Dale N. Chayes (<A HREF="mailto:dale@ldeo.columbia.edu">dale@ldeo.columbia.edu</A>)
<BR>

<BR>&nbsp;&nbsp;Lamont-Doherty&nbsp;Earth&nbsp;Observatory
<BR>

Suzanne H. O'Hara (<A HREF="mailto:sohara@ldeo.columbia.edu">sohara@ldeo.columbia.edu</A>)
<BR>

<BR>&nbsp;&nbsp;Lamont-Doherty&nbsp;Earth&nbsp;Observatory
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-A</B>

<DD>
<I>xmin</I>
<BR>

Sets the start time of the plot in hours from the beginning of the
input file. If not specified, the beginning of the input file
will be used as <I>xmin</I>.
<DT><B>-B</B>

<DD>
<I>xmax</I>
<BR>

Sets the end time of the plot in hours from the beginning of the
input file. If not specified, the end of the input file
will be used as <I>xmax</I>.
<DT><B>-F</B>

<DD>
<I>format</I>
<BR>

Sets the format for the input swath sonar data using 
<B>MBIO</B> integer format identifiers. 
This macro uses the <B>MBIO</B> library and will read any swath sonar
format supported by <B>MBIO</B>. A list of the swath sonar data formats
currently supported by <B>MBIO</B> and their identifier values
is given in the <B>MBIO</B> manual page.
Default: <I>format</I> = 24.
<DT><B>-I</B>

<DD>
<I>file</I>
<BR>

Data file from which the input data will be read.
<DT><B>-S</B>

<DD>
<I>xscale</I>
<BR>

Sets the x-axis scale of the plot in inches/hour.  
Default: <I>xscale</I> = 1.2.
<DT><B>-X</B>

<DD>
<I>xaxis</I>
<BR>

Sets the length of the x-axis in inches.  
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

Suppose one has obtained a Hydrosweep DS swath sonar data file 
called hs_ew9302_157_bcen.mb24 in the
L-DEO binary in-house format (format id 24). In order to generate a 
vertical reference noise plot:
<BR>

<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_vrefcheck -F24 -Ihs_ew9302_157_bcen.mb24<BR>
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="mbsystem.html">mbsystem</A></B>(l), <B><A HREF="mblist.html">mblist</A></B>(l)
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>BUGS</H2>

This script is hard wired for the R/V Ewing installation. This will
have to be fixed for it to be useful elsewhere.
<P>
<P>
<P>
<P>
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">AUTHORSHIP</A><DD>
<DT><A HREF="#lbAG">OPTIONS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">BUGS</A><DD>
</DL>
<HR>
</PRE>

<CENTER><P><BR>
Last Updated: 4 January 2001</P></CENTER>

<HR>
<P><A HREF="mbsystem_man_list.html">Return to list of MB-System manual pages...</A></P>
<P><A HREF="mbsystem_home.html"><IMG SRC="mbsystem_logo_small.gif" BORDER=0 HEIGHT=55 WIDTH=158 ALIGN=BOTTOM></A><A HREF="mbsystem_home.html">Back
to MB-System Home Page...</A></P>

</BODY>
</HTML>
