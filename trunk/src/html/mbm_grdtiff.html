<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML VERSION="2.0">
<HEAD>
   <TITLE>MB-System Unix Manual Page: mbm_grdtiff</TITLE>
<!-- WEBMAGIC VERSION NUMBER="2.0.2" -->
<!-- WEBMAGIC TRANSLATION NAME="ServerRoot" SRC="/var/www/htdocs/" DST="/" -->
<!-- WEBMAGIC TRANSLATION NAME="ProjectRoot" SRC="./" DST="" -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#336699" VLINK="#997040" ALINK="#CC9900">
<BODY>
<CENTER><H3><U>MB-System Unix Manual Page</U></H3></CENTER>
<PRE>
<H1>mbm_grdtiff</H1>
Section:  MB-System 5.0  (1)<BR>Updated:  28 September 2013 <BR><A HREF="#index">Index</A>
<HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mbm_grdtiff</B> - Create an executable shellscript which will generate
a TIFF image of gridded data in a GMT grd file.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

Version 5.0
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mbm_grdtiff</B> <B>-I</B><I>file</I>
[<B>-A</B><I>magnitude[/azimuth/elevation]</I>
<B>-G</B><I>color_mode</I> <B>-H</B> <B>-K</B><I>intensity_file</I>
<B>-O</B><I>root</I> <B>-S</B><I>[color/shade]</I>
<B>-V</B>
<B>-W</B><I>[color_style</I>[<I>/palette</I>[<I>ncolors</I>]] | <I>cptfile]</I> ]
<P>
<P>
Additional Options:
<BR>

[<B>-D</B><I>flipcolor/flipshade</I>
<B>-MGS</B><I>scalefactor</I> <B>-MGW</B> <B>-Q</B> <B>-R</B><I>w/e/s/n</I>
<B>-X</B> <B>-Y</B> <B>-Z</B><I>min/max[/mode]</I>]
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>mbm_grdtiff</B> is a macro to generate a shellscript
which, when executed, will use the program <B>mbgrdtiff</B> to
generate a geographically located TIFF image of gridded
data. The primary purpose of this macro is to allow the simple,
semi-automated production of a nice looking image with a few
command line arguments. Several styles of images can be generated, including
color fill and shaded relief maps. The available options mirror
a subset of the options in <B>mbm_grdplot</B>, allowing users to easily
generate equivalent Postscript plots and TIFF images of gridded
data. The program <B>mbgrdtiff</B> recognizes the coordinate system
used by <B>mbgrid</B> or <B>mbmosaic</B> to generate a grid file, and
then embeds the projection and grid bounds information into the TIFF
image in accordance with the GeoTIFF standard. A number of GIS software
packages recognize the georeferencing information in GeoTIFF images.
In particular, images generated by <B>mbgrdtiff</B> from grids created
using <B>mbgrid</B> or <B>mbmosaic</B> can be loaded into the
GRASS, ArcInfo, ArcView, and ArcGIS GIS packages as geographically located
coverages. The <B>mbgrid</B> and <B>mbmosaic</B> manual pages each contain
an appendix with a complete list of the projected coordinate systems that
may used in grid generation. Some software packages (e.g. Winfrog) do not
recognize the embedded coordinate system information, and install require
a parallel &quot;world&quot; file to specify the bounds and resolution. The <B>-MGW</B>
option causes a world file to be generated with a &quot;.tfw&quot; suffix.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>MB-SYSTEM AUTHORSHIP</H2>

David W. Caress
<BR>

<BR>&nbsp;&nbsp;Monterey&nbsp;Bay&nbsp;Aquarium&nbsp;Research&nbsp;Institute
<BR>

Dale N. Chayes
<BR>

<BR>&nbsp;&nbsp;Center&nbsp;for&nbsp;Coastal&nbsp;and&nbsp;Ocean&nbsp;Mapping
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;New&nbsp;Hampshire
<BR>

Christian do Santos Ferreira
<BR>

<BR>&nbsp;&nbsp;MARUM&nbsp;-&nbsp;Center&nbsp;for&nbsp;Marine&nbsp;Environmental&nbsp;Sciences
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;Bremen
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>SIMPLE DESCRIPTION OF BASIC OPTIONS</H2>

<DL COMPACT>
<DT><B>-A</B>

<DD>
<I>magnitude[/azimuth/elevation]</I>
<BR>

Sets the parameters which control the
synthetic illumination of the gridded data (shaded relief).
The value <I>magnitude</I>
is an effective vertical exageration which modulates the intensity of
the shading; typical values are in the 0.1 to 10 range.
The value <I>azimuth</I>
is the azimuth in degrees from north from which the data is illuminated.
The value <I>elevation</I> is the elevation of the illumination
in degrees from horizontal.
Defaults: <I>magnitude</I> = 0.2; <I>azimuth</I> = 0.0;
<I>elevation</I> = 30.0;
<DT><B>-C</B>

<DD>
<I>contour_control</I>
<BR>

If <B>-C</B> is given alone, it causes unannotated contours
to be drawn using a contour interval calculated from the
data. The user may also use <I>contour_control</I>
to specify the contour interval. See the COMPLETE DESCRIPTION OF OPTIONS
section below for a more complete discussion.
<DT><B>-D</B>

<DD>
<I>[flipcolor/flipshade]</I>
<BR>

Normally, the color or grayscale tables used for color maps run from
cool colors (or dark grays) for low grid values
to hot colors (or light grays) for high grid values.
This option reverses the color table so that cool colors (dark grays)
correspond to high values and hot colors (light grays) to low values.
If <B>-D</B> is given alone, it applies to the color table used
for color or gray fill plots,  shaded or unshaded. If the plot
is to be shaded,  either by synthetic illumination (<B>-G</B><I>2</I>)
or using an intensity file (<B>-K</B> and <B>-G</B><I>3</I> options), then
setting <I>flipshade</I> = 1 will cause the shading convention
to be reversed (e.g. high intensities overlaid as light shading).
Using <B>-D</B><I>0/1</I> will flip the shading convention
but leave the default color convention.
<DT><B>-G</B>

<DD>
<I>color_mode</I>
<BR>

Turns on color fill plot and sets the style of the plot.
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;1:&nbsp;Color/gray&nbsp;fill.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;2:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;synthetic&nbsp;illumination.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;3:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;intensity&nbsp;file.&nbsp;The&nbsp;<B>-K</B>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option&nbsp;must&nbsp;be&nbsp;used&nbsp;to&nbsp;specify
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>the&nbsp;intensity&nbsp;file.<BR>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;4:&nbsp;Color/gray&nbsp;fill&nbsp;of&nbsp;slope
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>magnitude.<BR>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;5:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slope&nbsp;magnitude.
<DT><B>-H</B>

<DD>
This &quot;help&quot; flag cause the program to print out a description
of its operation and then exit immediately.
<DT><B>-I</B>

<DD>
<I>grdfile</I>
<BR>

Sets the name of the gridded data file to be plotted.
Alternatively, <I>grdfile</I> may be a list of grid files
(one filename on each line) to be plotted together.
<DT><B>-K</B>

<DD>
<I>intensity_file</I>
<BR>

Sets the name of the gridded data file containing
instensity values to be used for shading the map.
Alternatively, <I>grdfile</I> may be a list of grid files
(one filename on each line) to be used together. If a
list of file is supplied, the intensity files must
conform in order to the data grid files they will shade.
<DT><B>-O</B>

<DD>
<I>root</I>
<BR>

Sets the root used to construct the filename of the output shellscript
(<I>root</I>.cmd) and names of files created when the shellscript is
run.  Normally the
name of the input grid file or grid file list is
used as the <I>root</I>.
<DT><B>-S</B>

<DD>
<I>[color/shade]</I>
<BR>

This option enables effective histogram equalization of the
color and/or shading of the gridded data. The equalization is
not achieved by changing the data values, but rather by
constructing the color or shading tables so that
the boundaries in the tables encompass equal fractions of
the datapoints. This serves to focus color or shading contrasts
in value ranges corresponding to the bulk of the data values.
If <B>-S</B> is given alone or with <I>color</I> = 1,
it enables equalization of the color table used
for color or gray fill plots,  shaded or unshaded. If the plot
is to be shaded,  either by synthetic illumination (<B>-G</B><I>2</I>)
or using an intensity file (<B>-K</B> and <B>-G</B><I>3</I> options), then
setting <I>shade</I> = 1 will cause the shading to be equalized.
Using <B>-S</B><I>0/1</I> will equalize the shading without
equalizing the color table.
<DT><B>-U</B>

<DD>
<I>orientation</I>
<BR>

Normally the orientation of the plot (portrait or landscape)
is selected automatically so as to maximize the plot scale.
The <B>-U</B> option allows the user to set the plot orientation. If
<I>orientation</I> = 1, a portrait plot will be produced; if
<I>orientation</I> = 2, a landscape plot will be produced.
<DT><B>-V</B>

<DD>
Causes <B>mbm_grdtiff</B> to operate in &quot;verbose&quot; mode
so that it outputs
more information than usual.
<DT><B>-W</B>

<DD>
<I>[color_style</I>[<I>/palette</I>[<I>ncolors</I>]] | cptfile]
<BR>

This option controls the color scheme used for color
fill plots.
<P>
If <I>color_style</I> = 1 [default], then
the color scheme used will be a continuous grading
of colors. If <I>color_style</I> = 2, the color scheme
will be a set of discrete color intervals. The color
palette used is set using <I>palette</I>. Five palettes
are available:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;1:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>Haxby&nbsp;colors&nbsp;[default]<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;2:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>high&nbsp;Intensity&nbsp;colors<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;3:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>low&nbsp;Intensity&nbsp;colors<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;4:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>grayscale<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;5:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>uniform&nbsp;grayscale<BR>
<BR>

A complete description of the color palettes is given
in the COMPLETE DESCRIPTION OF OPTIONS section below.
<P>
The <I>ncolors</I> parameter sets the number of color
values used in plotting, whether the colors are
represented in a continuous color scale or a
stepped, discrete color scale [default is 11].
<P>
If the option argument is the path to an existing <B>GMT</B>
color palette (CPT) file, then that CPT file and its
color scheme will be used for the plot
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>COMPLETE DESCRIPTION OF OPTIONS</H2>

<DL COMPACT>
<DT><B>-A</B>

<DD>
<I>magnitude[/azimuth]</I>
<BR>

Sets the parameters which control the
synthetic illumination of the gridded data (shaded relief).
The value <I>magnitude</I>
is an effective vertical exageration which modulates the intensity of
the shading; typical values are in the 0.1 to 0.5 range.
The value <I>azimuth</I>
is the azimuth from which the data is illuminated.
Defaults: <I>magnitude</I> = 0.2; <I>azimuth</I> = 0.0;
<DT><B>-D</B>

<DD>
<I>[flipcolor/flipshade]</I>
<BR>

Normally, the color or grayscale tables used for color maps run from
cool colors (or dark grays) for low grid values
to hot colors (or light grays) for high grid values.
This option reverses the color table so that cool colors (dark grays)
correspond to high values and hot colors (light grays) to low values.
If <B>-D</B> is given alone, it applies to the color table used
for color or gray fill plots,  shaded or unshaded. If the plot
is to be shaded,  either by synthetic illumination (<B>-G</B><I>2</I>)
or using an intensity file (<B>-K</B> and <B>-G</B><I>3</I> options), then
setting <I>flipshade</I> = 1 will cause the shading convention
to be reversed (e.g. high intensities overlaid as light shading).
Using <B>-D</B><I>0/1</I> will flip the shading convention
but leave the default color convention.
<DT><B>-G</B>

<DD>
<I>color_mode</I>
<BR>

Turns on color fill plot and sets the style of the plot.
<BR>

<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;1:&nbsp;Color/gray&nbsp;fill.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;2:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;synthetic&nbsp;illumination.
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;3:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an&nbsp;intensity&nbsp;file.&nbsp;The&nbsp;<B>-K</B>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option&nbsp;must&nbsp;be&nbsp;used&nbsp;to&nbsp;specify
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>the&nbsp;intensity&nbsp;file.<BR>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;4:&nbsp;Color/gray&nbsp;fill&nbsp;of&nbsp;slope
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>magnitude.<BR>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<I>color_mode</I>&nbsp;=&nbsp;5:&nbsp;Color/gray&nbsp;fill&nbsp;shaded&nbsp;by
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slope&nbsp;magnitude.
<BR>

See the <B>mbgrdtiff</B> and <B>grdimage</B> manual pages
for information on shading with intensity files
<DT><B>-H</B>

<DD>
This &quot;help&quot; flag cause the program to print out a description
of its operation and then exit immediately.
<DT><B>-I</B>

<DD>
<I>grdfile</I>
<BR>

Sets the name of the gridded data file to be plotted.
The data must be in a form acceptable to <B>GMT</B> version 3
programs (see the <B>GMT</B> Cookbook &amp; Technical Reference).
Alternatively, <I>grdfile</I> may be a list of grid files
(one filename on each line) to be plotted together. This
is useful when data from a region is broken up into several
grid files rather than a single very large grid file.
<DT><B>-K</B>

<DD>
<I>intensity_file</I>
<BR>

Sets the name of the gridded data file containing
instensity values to be used for shading the map.
Alternatively, <I>grdfile</I> may be a list of grid files
(one filename on each line) to be used together. If a
list of files is supplied, the intensity files must
conform in order to the list of data grid files they will shade.
<DT><B>-M</B>

<DD>
A series of &quot;miscellaneous&quot; options are provided which are
given as <B>-M</B> followed by a two character identifier, followed
by any other parameters associated with that option.
The <B>-M</B> options may be strung together separated by
colons, e.g. &quot;-MGQ100:GU:CA200/10&quot;, which is equivalent to
&quot;-MGQ -MGU -MCA200/10&quot;.
<DT><B>-MGD</B>

<DD>
<I>gmtdef/value</I>
<BR>

Allows the user to set the <B>GMT</B> default values used as
the plot is constructed. This command may be given repeatedly
to set as many <B>GMT</B> defaults as required. For example, to
set the basemap annotation font to Courier, use
&quot;-MGDANOT_FONT/Courier&quot;.
<DT><B>-MGS</B>

<DD>
<I>scalefactor</I>
<BR>

The gridded data is multiplied by <I>scalefactor</I>.
This option is most often used flip the sign of the
data (<I>scalefactor</I> = -1). [Default no scaling]
<DT><B>-MGW</B>

<DD>
The <B>-MGW</B> option causes a &quot;world&quot; file to be generated parallel to the
GeoTiff image with a &quot;.tfw&quot; suffix. Some software packages (e.g. Winfrog) do
not recognize the coordinate information embedded in the GeoTiff file, and
look for a world file.
<DT><B>-O</B>

<DD>
<I>root</I>
<BR>

Sets the root used to construct the filename of the output shellscript
(<I>root</I>.cmd) and names of files created when the shellscript is
run.  Normally the
name of the input grid file or grid file list is
used as the <I>root</I>.
<DT><B>-Q</B>

<DD>
Normally, the output plot generation shellscript
includes lines which execute
the program <B>xv</B> to display the TIFF image on the screen.
This option causes those lines to be commented out so
that executing the shellscript produces a TIFF image
but does not attempt to display it on the screen.
<DT><B>-R</B>

<DD>
<I>west/east/south/north</I>
<BR>

<I>west, east, south,</I> and <I>north</I> specify the Region of interest.  To specify boundaries
in degrees and minutes [and seconds], use the dd:mm[:ss] format.  Append <B>r</B> if lower left and upper right
map coordinates are given instead of wesn.
You may ask for a larger <I>w/e/s/n</I> region to have more room between the image and the axes.
A smaller region than specified in the grdfile will result in a subset of the grid [Default is
region given by the grdfile].
<DT><B>-S</B>

<DD>
<I>[color/shade]</I>
<BR>

This option enables effective histogram equalization of the
color and/or shading of the gridded data. The equalization is
not achieved by changing the data values, but rather by
constructing the color or shading tables so that
the boundaries in the tables encompass equal fractions of
the datapoints. This serves to focus color or shading contrasts
in value ranges corresponding to the bulk of the data values.
If <B>-S</B> is given alone or with <I>color</I> = 1,
it enables equalization of the color table used
for color or gray fill plots,  shaded or unshaded. If the plot
is to be shaded,  either by synthetic illumination (<B>-G</B><I>2</I>)
or using an intensity file (<B>-K</B> and <B>-G</B><I>3</I> options), then
setting <I>shade</I> = 1 will cause the shading to be equalized.
Using <B>-S</B><I>0/1</I> will equalize the shading without
equalizing the color table.
<DT><B>-V</B>

<DD>
Causes <B>mbm_grdtiff</B> to operate in &quot;verbose&quot; mode
so that it outputs
more information than usual.
<DT><B>-W</B>

<DD>
<I>[color_style</I>[<I>/palette</I>[<I>ncolors</I>]] | cptfile]
<BR>

This option controls the color scheme used for color
fill plots.
<P>
If <I>color_style</I> = 1 [default], then
the color scheme used will be a continuous grading
of colors. If <I>color_style</I> = 2, the color scheme
will be a set of discrete color intervals. The color
palette used is set using <I>palette</I>. Seven palettes
are available:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;1:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>Haxby&nbsp;colors&nbsp;[default]<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;2:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>high&nbsp;Intensity&nbsp;colors<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;3:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>low&nbsp;Intensity&nbsp;colors<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;4:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>grayscale<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;5:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>uniform&nbsp;grayscale<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;6:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>uniform&nbsp;black<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><I>palette</I>&nbsp;=&nbsp;7:<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>uniform&nbsp;white<BR>
<P>
The RGB definitions of the color palettes are:
<P>
color palette 1 - Haxby Color Table
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;240&nbsp;205&nbsp;138&nbsp;106&nbsp;&nbsp;50&nbsp;&nbsp;40&nbsp;&nbsp;37
<BR>&nbsp;&nbsp;green:&nbsp;255&nbsp;186&nbsp;161&nbsp;189&nbsp;236&nbsp;255&nbsp;236&nbsp;235&nbsp;190&nbsp;127&nbsp;&nbsp;57
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;255&nbsp;133&nbsp;&nbsp;68&nbsp;&nbsp;87&nbsp;121&nbsp;162&nbsp;174&nbsp;255&nbsp;255&nbsp;251&nbsp;175
<P>
color palette 2 - High Intensity Colors
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;128&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;128&nbsp;255
<BR>&nbsp;&nbsp;green:&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;64&nbsp;128&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;128&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255
<P>
color palette 3 - Low Intensity Colors
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;200&nbsp;194&nbsp;179&nbsp;141&nbsp;&nbsp;90&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;90&nbsp;141
<BR>&nbsp;&nbsp;green:&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;49&nbsp;&nbsp;90&nbsp;141&nbsp;179&nbsp;200&nbsp;141&nbsp;&nbsp;90&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;141&nbsp;179&nbsp;200&nbsp;179&nbsp;141
<P>
color palette 4 - Grayscale
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;255&nbsp;230&nbsp;204&nbsp;179&nbsp;153&nbsp;128&nbsp;102&nbsp;&nbsp;77&nbsp;&nbsp;51&nbsp;&nbsp;26&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;green:&nbsp;255&nbsp;230&nbsp;204&nbsp;179&nbsp;153&nbsp;128&nbsp;102&nbsp;&nbsp;77&nbsp;&nbsp;51&nbsp;&nbsp;26&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;255&nbsp;230&nbsp;204&nbsp;179&nbsp;153&nbsp;128&nbsp;102&nbsp;&nbsp;77&nbsp;&nbsp;51&nbsp;&nbsp;26&nbsp;&nbsp;&nbsp;0
<P>
color palette 5 - Uniform Grayscale
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128
<BR>&nbsp;&nbsp;green:&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128&nbsp;128
<P>
color palette 6 - Uniform Black
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;green:&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0
<P>
color palette 7 - Uniform White
<BR>&nbsp;&nbsp;red:&nbsp;&nbsp;&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255
<BR>&nbsp;&nbsp;green:&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255
<BR>&nbsp;&nbsp;blue:&nbsp;&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255&nbsp;255
<P>
The Haxby colors have been adapted from a palette
developed by Dr. William Haxby of the Lamont-Doherty
Earth Observatory; this palette is pleasing to the
eye and well suited for shading. The high intensity
colors describe linear paths through RGB space from
red to blue to green to purple; because the colors are high
intensity they are not well suited to shading.
The low intensity colors are similar to the high
intensity, but muted and thus well suited to shading.
The grayscale palette runs linearly from white to
black and is commonly used for plots of sidescan and amplitude
data. The uniform grayscale is useful for non-color
shaded relief plots.
<P>
The <I>ncolors</I> parameter sets the number of color
values used in plotting, whether the colors are
represented in a continuous color scale or a
stepped, discrete color scale [default is 11].
<P>
If the option argument is the path to an existing <B>GMT</B>
color palette (CPT) file, then that CPT file and its
color scheme will be used for the plot
<DT><B>-X</B>

<DD>
Normally, <B>mbm_grdtiff</B> creates an executable shellscript and
then exits.  This option will cause the shellscript to be executed
in the background before <B>mbm_grdtiff</B> exits.
<DT><B>-Y</B>

<DD>
Normally, <B>mbm_grdplot</B> generates nicely rounded numbers
for the boundaries of the color palette. Often, the resulting
color bounds extend well outside the range of the gridded data.
This option causes the minimum and maximum color boundaries to
exactly conform to the minimum and maximum values of the grid,
or, if the <B>-Z</B> option is used, the minimum and maximum
values specified by the user.
<DT><B>-Z</B>

<DD>
<I>min/max[/mode]</I>
<BR>

This option overrides the minimum and maximum values of
the gridded data, affecting the color palette and the
contour interval if those parameters are not specified
by the user. By default (i.e. <I>mode</I> is omitted
or equal to 0), the macro selects the color palette bounds
so that they encompass <I>min</I> and <I>max</I> while using
nicely rounded numbers. If <I>mode</I> is omitted or equal
to 0, then the color palette will end near <I>min</I> and
<I>max</I> whether it is linear stretched or histogram equalized.
If <I>mode</I> = 1, then the color stretching calculations
will be done using <I>min</I> and <I>max</I>, but then the
first and last values in the color palette will be set to
the actual minimum and maximum values.so that all the data
are displayed.
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>EXAMPLES</H2>

Suppose we have obtained two GRD files,
one containing gridded bathymetry
(testbath.grd) and the other mosaiced amplitude
(testamp.grd).
In order to generate a color fill TIFF image, we use the -G1 option.
Because the data has been gridded as bathymetry (positive
down) rather than as topography (positive up), the default
plot will have &quot;hot&quot; colors for deep regions and &quot;cold&quot;
colors for shallow regions; this is the opposite of the
convention we usually use. In order to fix the colors, we have
to either rescale the data by multiplying the bathymetry
by -1 (accomplished with -MGS-1), or flip the color
palette (accomplished with -D). We use the latter approach:
<P>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_grdtiff&nbsp;-Itestbath.grd&nbsp;-G1&nbsp;-D&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-V&nbsp;-Obath_fill<BR>
<P>
In order to generate a grayscale plot of the amplitude mosaic,
we use -G1 and -W1/4. We also use -D so that high amplitude
amplitudes are shown as dark.
<P>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_grdtiff&nbsp;-Itestamp.grd&nbsp;-G1&nbsp;-D&nbsp;-W1/4&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-V&nbsp;-Oamp_fill<BR>
<P>
Now consider generating a shaded relief view of the
gridded bathymetry. We choose to illuminate
the bathymetry from the northeast (azimuth of 45 degrees)
and to use a shading magnitude of 0.4 (-A0.4/45).
We also use
the -X flag this so that the plot generation shellscript is
executed immediately. Here is the command:
<P>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_grdtiff&nbsp;-Itestbath.grd&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-G2&nbsp;-A0.4/45&nbsp;-D&nbsp;-X&nbsp;-V&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-Obath_shade<BR>
<P>
Now, consider generating a plot of the bathymetry
overlaid with the mosaiced amplitude.
The amplitude overlay is specified using the -K option.
We want the colors for the bathymetry to be chosen without
histogram equalization, but we also want histogram
equalization to be applied to the amplitude data used for
shading. To do this, we use -S0/1, where the first number
(0) specifies no histogram equalization of the color
scale and the second number (1) causes histogram
equalization of the shading amplitude data to be
implemented. In order to maintain the convention that
high amplitude amplitudes are black, we flip both the
color palette (as in the previous example) and the
shading scale with -D1/1. We could also flip the shading
by specifying a negative shading magnitude (-A-0.4).
<P>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_grdtiff&nbsp;-Itestbath.grd&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-G3&nbsp;-Ktestamp.grd&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-S0/1&nbsp;-D1/1&nbsp;-A0.4&nbsp;-X&nbsp;-V&nbsp;\<BR>
<BR>&nbsp;&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;&nbsp;&nbsp;-Obath_amp<BR>
<P>
As an example, the contents of the plotting shellscript
&quot;bath_fill_tiff.cmd&quot; are:
<P>
<BR>

#! /bin/csh -f
<BR>

#
<BR>

# Shellscript to create TIFF image of data in grd file
<BR>

# Created by macro mbm_grdtiff
<BR>

#
<BR>

# This shellscript created by following command line:
<BR>

# mbm_grdtiff -Itestbath.grd -G1 -D -V -Obath_fill
<BR>

#
<BR>

# Define shell variables used in this script:
<BR>

set TIFF_FILE       = bath_fill.tif
<BR>

set CPT_FILE        = bath_fill.cpt
<BR>

set MAP_REGION      = -49.28/-49.13/12.05/12.2
<BR>

#
<BR>

# Save existing GMT defaults
<BR>

echo Saving GMT defaults...
<BR>

gmtdefaults -L &gt; gmtdefaults$$
<BR>

#
<BR>

# Set new GMT defaults
<BR>

echo Setting new GMT defaults...
<BR>

gmtset COLOR_BACKGROUND 0/0/0
<BR>

gmtset COLOR_FOREGROUND 255/255/255
<BR>

gmtset COLOR_NAN 255/255/255
<BR>

gmtset DEGREE_FORMAT 3
<BR>

#
<BR>

# Make color palette table file
<BR>

echo Making color palette table file...
<BR>

echo  -5250 255 255 255  -5100 255 186 133 &gt; $CPT_FILE
<BR>

echo  -5100 255 186 133  -4950 255 161  68 &gt;&gt; $CPT_FILE
<BR>

echo  -4950 255 161  68  -4800 255 189  87 &gt;&gt; $CPT_FILE
<BR>

echo  -4800 255 189  87  -4650 240 236 121 &gt;&gt; $CPT_FILE
<BR>

echo  -4650 240 236 121  -4500 205 255 162 &gt;&gt; $CPT_FILE
<BR>

echo  -4500 205 255 162  -4350 138 236 174 &gt;&gt; $CPT_FILE
<BR>

echo  -4350 138 236 174  -4200 106 235 255 &gt;&gt; $CPT_FILE
<BR>

echo  -4200 106 235 255  -4050  50 190 255 &gt;&gt; $CPT_FILE
<BR>

echo  -4050  50 190 255  -3900  40 127 251 &gt;&gt; $CPT_FILE
<BR>

echo  -3900  40 127 251  -3750  37  57 175 &gt;&gt; $CPT_FILE
<BR>

#
<BR>

# Define data files to be plotted:
<BR>

set DATA_FILE        = testbath.grd
<BR>

set INTENSITY_FILE   =
<BR>

#
<BR>

# Make tiff image
<BR>

echo Running mbgrdtiff...
<BR>

mbgrdtiff -I $DATA_FILE <BR>

<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>-O $TIFF_FILE <BR>

<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>-C $CPT_FILE <BR>

<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>-V<BR>
<BR>

#
<BR>

# Delete surplus files
<BR>

echo Deleting surplus files...
<BR>

/bin/rm -f $CPT_FILE
<BR>

#
<BR>

# Reset GMT default fonts
<BR>

echo Resetting GMT fonts...
<BR>

/bin/mv gmtdefaults$$ .gmtdefaults
<BR>

#
<BR>

# Run xv
<BR>

echo Running xv in background...
<BR>

xv bath_fill.tif &amp;
<BR>

#
<BR>

# All done!
<BR>

echo All done!
<BR>

<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="mbsystem.html">mbsystem</A></B>(1), <B><A HREF="mbm_grdplot.html">mbm_grdplot</A></B>(1), <B><A HREF="mbgrid.html">mbgrid</A></B>(1), <B><A HREF="mbmosaic.html">mbmosaic</A></B>(1),
<B><A HREF="mbm_grid.html">mbm_grid</A></B>(1), <B><A HREF="mbgrdtiff.html">mbgrdtiff</A></B>(1), <B>gmt</B>(1)(1), <B>grdimage</B>(1)
<P>
<A NAME="lbAK">&nbsp;</A>
<H2>BUGS</H2>

This macro either has too many options, or not enough
options. You choose.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">MB-SYSTEM AUTHORSHIP</A><DD>
<DT><A HREF="#lbAG">SIMPLE DESCRIPTION OF BASIC OPTIONS</A><DD>
<DT><A HREF="#lbAH">COMPLETE DESCRIPTION OF OPTIONS</A><DD>
<DT><A HREF="#lbAI">EXAMPLES</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT><A HREF="#lbAK">BUGS</A><DD>
</DL>
<HR>
</PRE>

<CENTER><P><BR>
Last Updated: 28 September 2013</P></CENTER>

<HR>

</BODY>
</HTML>
