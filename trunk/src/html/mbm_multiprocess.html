<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML VERSION="2.0">
<HEAD>
   <TITLE>MB-System Unix Manual Page: mbm_multiprocess</TITLE>
<!-- WEBMAGIC VERSION NUMBER="2.0.2" -->
<!-- WEBMAGIC TRANSLATION NAME="ServerRoot" SRC="/var/www/htdocs/" DST="/" -->
<!-- WEBMAGIC TRANSLATION NAME="ProjectRoot" SRC="./" DST="" -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#336699" VLINK="#997040" ALINK="#CC9900">
<BODY>
<CENTER><H3><U>MB-System Unix Manual Page</U></H3></CENTER>
<PRE>
<H1>mbm_multiprocess</H1>
Section:  MB-System 5.0  (1)<BR>Updated:  3 June 2013 <BR><A HREF="#index">Index</A>
<HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mbm_multiprocess</B> - Macro to run mbprocess on the swath files referenced
by a datalist using parallel processes.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

Version 5.0
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mbm_multiprocess</B> <B>-I</B><I>datalist</I>
[<B>-X</B><I>nprocesses</I> <B>-H</B> <B>-V</B>]
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>
<B>mbm_multiprocess</B> is a macro used to effeciently process large numbers of swath
data files by executing parallel instances of the program <B>mbprocess</B>. See the
<B>mbprocess</B> manual page for a description of its operation.
<P>
The <B>-X</B><I>nprocesses</I> option sets the number of parallel processes that can be
started by <B>mbm_multiprocess</B>. In general, the most efficient (fastest) execution of
the overall command will be achieved when <I>nprocesses</I> equals the number of
available CPUs or cores.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>MB-SYSTEM AUTHORSHIP</H2>

David W. Caress
<BR>

<BR>&nbsp;&nbsp;Monterey&nbsp;Bay&nbsp;Aquarium&nbsp;Research&nbsp;Institute
<BR>

Dale N. Chayes
<BR>

<BR>&nbsp;&nbsp;Center&nbsp;for&nbsp;Coastal&nbsp;and&nbsp;Ocean&nbsp;Mapping
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;New&nbsp;Hampshire
<BR>

Christian do Santos Ferreira
<BR>

<BR>&nbsp;&nbsp;MARUM&nbsp;-&nbsp;Center&nbsp;for&nbsp;Marine&nbsp;Environmental&nbsp;Sciences
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;Bremen
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHORSHIP OF THIS PROGRAM</H2>

Christian do Santos Ferreira
<BR>

<BR>&nbsp;&nbsp;MARUM&nbsp;-&nbsp;Center&nbsp;for&nbsp;Marine&nbsp;Environmental&nbsp;Sciences
<BR>

<BR>&nbsp;&nbsp;University&nbsp;of&nbsp;Bremen
<P>
<A NAME="lbAH">&nbsp;</A>
<H2>SIMPLE DESCRIPTION OF BASIC OPTIONS</H2>

<DL COMPACT>
<DT><B>-H</B>

<DD>
This &quot;help&quot; flag cause the program to print out a description
of its operation and then exit immediately.
<DT><B>-I</B>

<DD>
<I>datalist</I>
<BR>

Sets the input datalist filename. A datalist is an ascii
file containing a list of the input swath sonar
data files to be copied and their formats.
In the <I>datalist</I> file, each
swath data file should be followed by a data format identifier, e.g.:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>datafile1&nbsp;11<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>datafile2&nbsp;24<BR>
<BR>

As discussed in the <B>MB-System</B> manual page, datalists may reference
other datalists, allowing users to construct recursive datalist structures.
This program uses the <B>MBIO</B> library and will read or write any swath sonar
format supported by <B>MBIO</B>. A list of the swath sonar data formats
currently supported by <B>MBIO</B> and their identifier values
is given in the <B>MBIO</B> manual page.
<DT><B>-V</B>

<DD>
Causes <B>mbm_multiprocess</B> to operate in &quot;verbose&quot; mode
so that it outputs
more information than usual.
<DT><B>-X</B>

<DD>
<I>nprocesses</I>
<BR>

This option sets the number of parallel, simultaneous <B>mbcopy</B> processes that may be
run.
<P>
</DL>
<A NAME="lbAI">&nbsp;</A>
<H2>EXAMPLES</H2>

Suppose one has two format 88 Reson 7125 data files:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>20110805_053612.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>20110805_054149.mb88<BR>
<BR>

and that these files are ready to be processed with <B>mbprocess</B>.
In order to execute the processing using multiple, parallel processes,
use the macro mbm_multiprocess with a datalist file referencing the
target swath files as input:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbm_multiprocess&nbsp;-Idatalist.mb-1&nbsp;-V&nbsp;-X2<BR>
<BR>

The macro prints out the following as the processing proceeds:
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Running&nbsp;mbm_multiprocess...<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Program&nbsp;&lt;mbprocess&gt;<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Program&nbsp;&lt;mbprocess&gt;<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Version&nbsp;$Id:&nbsp;mbm_multiprocess.1&nbsp;2300&nbsp;2017-04-15&nbsp;08:28:27Z&nbsp;caress&nbsp;$<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Version&nbsp;$Id:&nbsp;mbm_multiprocess.1&nbsp;2300&nbsp;2017-04-15&nbsp;08:28:27Z&nbsp;caress&nbsp;$<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>MB-system&nbsp;Version&nbsp;5.3.1904<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>MB-system&nbsp;Version&nbsp;5.3.1904<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Program&nbsp;Operation:<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Program&nbsp;Operation:<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Input&nbsp;file:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20110805_053612.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Input&nbsp;file:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20110805_054149.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Format:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Files&nbsp;processed&nbsp;only&nbsp;if&nbsp;out&nbsp;of&nbsp;date.<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Files&nbsp;processed&nbsp;only&nbsp;if&nbsp;out&nbsp;of&nbsp;date.<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Comments&nbsp;embedded&nbsp;in&nbsp;output.<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>&nbsp;&nbsp;Comments&nbsp;embedded&nbsp;in&nbsp;output.<BR>
<P>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>**:&nbsp;Data&nbsp;processed&nbsp;-&nbsp;out&nbsp;of&nbsp;date&nbsp;-&nbsp;unlocked:<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Input:&nbsp;&nbsp;/Volumes/MappingAUVOps2011/test/20110805_054149.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Output:&nbsp;/Volumes/MappingAUVOps2011/test/20110805_054149p.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>**:&nbsp;Data&nbsp;processed&nbsp;-&nbsp;out&nbsp;of&nbsp;date&nbsp;-&nbsp;unlocked:<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Input:&nbsp;&nbsp;/Volumes/MappingAUVOps2011/test/20110805_053612.mb88<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>Output:&nbsp;/Volumes/MappingAUVOps2011/test/20110805_053612p.mb88<BR>
<P>
Note that the terminal messages from the two <B>mbprocess</B> instances are
mixed because the processes are executed in parallel.
<P>
<A NAME="lbAJ">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="mbsystem.html">mbsystem</A></B>(1), <B><A HREF="mbprocess.html">mbprocess</A></B>(1)
<P>
<A NAME="lbAK">&nbsp;</A>
<H2>BUGS</H2>

In insetos sao permitidos.
Keine insekten hier gestattet ist.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">MB-SYSTEM AUTHORSHIP</A><DD>
<DT><A HREF="#lbAG">AUTHORSHIP OF THIS PROGRAM</A><DD>
<DT><A HREF="#lbAH">SIMPLE DESCRIPTION OF BASIC OPTIONS</A><DD>
<DT><A HREF="#lbAI">EXAMPLES</A><DD>
<DT><A HREF="#lbAJ">SEE ALSO</A><DD>
<DT><A HREF="#lbAK">BUGS</A><DD>
</DL>
<HR>
</PRE>

<CENTER><P><BR>
Last Updated: 3 June 2013</P></CENTER>

<HR>

</BODY>
</HTML>
