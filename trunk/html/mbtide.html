<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML VERSION="2.0">
<HEAD>
   <TITLE>MB-System Unix Manual Page: mbtide</TITLE>
<!-- WEBMAGIC VERSION NUMBER="2.0.2" -->
<!-- WEBMAGIC TRANSLATION NAME="ServerRoot" SRC="/var/www/htdocs/" DST="/" -->
<!-- WEBMAGIC TRANSLATION NAME="ProjectRoot" SRC="./" DST="" -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFFF" LINK="#336699" VLINK="#997040" ALINK="#CC9900">
<BODY>
<CENTER><H3><U>MB-System Unix Manual Page</U></H3></CENTER>
<PRE>
<H1>mbtide</H1>
Section: MB-System 5.0 (l)<BR>Updated: 13 July 2001<BR><A HREF="#index">Index</A>
<HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>mbtide</B> - MBTIDE corrects swath sonar bathymetry data for tides.
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>VERSION</H2>

Version 5.0
<P>
<A NAME="lbAD">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>mbtide</B> [<B>-F</B><I>format </I><B>-I</B><I>infile </I><B>-O</B><I>outfile 
</I><B>-M</B><I>tideformat</I> <B>-T</B><I>tidefile</I> <B>-V -H</B>]
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>mbtide</B> is a utility for correcting swath bathymetry for
tides.  The input tide data can be in one of several ascii table
formats. A simple spline interpolation of the tide values is
used to calculate the tide correction for each ping. The tide
values are interpreted in meters above zero tide, where zero
tide is also referred to as the &quot;chart datum&quot; on hydrographic
charts. The effect of the tide correction is to make the
bathymetry values correspond to the &quot;chart datum&quot; reference.
The default input and output streams are stdin and stdout.
<P>
<A NAME="lbAF">&nbsp;</A>
<H2>AUTHORSHIP</H2>

David W. Caress (<A HREF="mailto:caress@mbari.org">caress@mbari.org</A>)
<BR>

<BR>&nbsp;&nbsp;Monterey&nbsp;Bay&nbsp;Aquarium&nbsp;Research&nbsp;Institute
<BR>

Dale N. Chayes (<A HREF="mailto:dale@ldeo.columbia.edu">dale@ldeo.columbia.edu</A>)
<BR>

<BR>&nbsp;&nbsp;Lamont-Doherty&nbsp;Earth&nbsp;Observatory
<P>
<A NAME="lbAG">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-F</B>

<DD>
<I>format</I>
<BR>

Sets the format for the input and output swath sonar data using 
<B>MBIO</B> integer format identifiers. 
This program uses the <B>MBIO</B> library and will read or write any swath sonar
format supported by <B>MBIO</B>. A list of the swath sonar data formats
currently supported by <B>MBIO</B> and their identifier values
is given in the <B>MBIO</B> manual page.
Default: <I>format</I> = 11.
<DT><B>-H</B>

<DD>
This &quot;help&quot; flag causes the program to print out a description
of its operation and then exit immediately.
<DT><B>-I</B>

<DD>
<I>infile</I>
<BR>

Data file from which the input data will be read. If
no input file is specified, the input will be read
from stdin. Default: <I>infile</I> = stdin.
<DT><B>-M</B>

<DD>
<I>tideformat</I>
<BR>

Defines the format of the tide data to be read.  Currently,
four formats are allowed, all consisting of ascii records:
<P>
<I>tideformat</I> = 1:  
<BR>

This format consists for lines of the form:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>time_d&nbsp;tide<BR>
<BR>

where time_d is decimal unix time in seconds since
1/1/1970 00:00:00.000 and tide values are in meters
above zero tide.
Some representative lines are:
<BR>&nbsp;804164520.0<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>1.25<BR>
<BR>&nbsp;804164940.0<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>2.25<BR>
<BR>&nbsp;804165660.0<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>3.25<BR>
<BR>&nbsp;804166800.0<TT>&nbsp;&nbsp;&nbsp;&nbsp;</TT>4.00<BR>
<P>
<I>tideformat</I> = 2:  
<BR>

This format consists for lines of the form:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>year&nbsp;mon&nbsp;day&nbsp;hour&nbsp;min&nbsp;sec&nbsp;tide<BR>
<BR>

where tide is in meters above zero tide.
Some representative lines are:
<BR>&nbsp;1995&nbsp;06&nbsp;26&nbsp;11&nbsp;04&nbsp;00&nbsp;2.91
<BR>&nbsp;1995&nbsp;06&nbsp;26&nbsp;11&nbsp;11&nbsp;00&nbsp;2.98
<BR>&nbsp;1995&nbsp;06&nbsp;26&nbsp;11&nbsp;23&nbsp;00&nbsp;3.21
<BR>&nbsp;1995&nbsp;06&nbsp;26&nbsp;11&nbsp;42&nbsp;00&nbsp;3.59
<P>
<I>tideformat</I> = 3:  
<BR>

This format consists for lines of the form:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>year&nbsp;jday&nbsp;hour&nbsp;min&nbsp;sec&nbsp;tide<BR>
<BR>

where jday is the julian day of the year and 
tide is in meters above zero tide.
Some representative lines are:
<BR>&nbsp;1995&nbsp;177&nbsp;11&nbsp;04&nbsp;00&nbsp;2.91
<BR>&nbsp;1995&nbsp;177&nbsp;11&nbsp;11&nbsp;00&nbsp;2.98
<BR>&nbsp;1995&nbsp;177&nbsp;11&nbsp;23&nbsp;00&nbsp;3.21
<BR>&nbsp;1995&nbsp;177&nbsp;11&nbsp;42&nbsp;00&nbsp;3.59
<P>
<I>tideformat</I> = 4:  
<BR>

This format consists for lines of the form:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>year&nbsp;jday&nbsp;daymin&nbsp;sec&nbsp;tide<BR>
<BR>

where jday is the julian day of the year, daymin is the minute
of the day, and tide is in meters above zero tide.
Some representative lines are:
<BR>&nbsp;1995&nbsp;177&nbsp;664&nbsp;00&nbsp;2.91
<BR>&nbsp;1995&nbsp;177&nbsp;671&nbsp;00&nbsp;2.98
<BR>&nbsp;1995&nbsp;177&nbsp;683&nbsp;00&nbsp;3.21
<BR>&nbsp;1995&nbsp;177&nbsp;702&nbsp;00&nbsp;3.59
<P>
Default: <I>tideformat</I> = 2.
<DT><B>-O</B>

<DD>
<I>outfile</I>
<BR>

Data file to which the output data will be written. If
no output file is specified, the output will be written to
stdout. Default: <I>outfile</I> = stdout.
<DT><B>-N</B>

<DD>
<I>tidefile</I>
<BR>

Data file from which the tide data will be read.
<DT><B>-V</B>

<DD>
Normally, <B>mbtide</B> works &quot;silently&quot; without outputting
anything to the stderr stream.  If the
<B>-V</B> flag is given, then <B>mbtide</B> works in a &quot;verbose&quot; mode and
outputs the program version being used and all error status messages.
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>EXAMPLES</H2>

Suppose one wishes to correct the bathymetry in the Reson SeaBat 9002
data file ref2001.mb81 (format 81) for the tide variations 
contained in the file tide_950626.dat. The following will
suffice:
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>mbtide&nbsp;-F81&nbsp;-M2&nbsp;-Ttide_950626.dat&nbsp;<BR>
<BR>&nbsp;<TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT><TT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TT>-Iref2001.mb81&nbsp;-Oref2001_t.mb81<BR>
<P>
<A NAME="lbAI">&nbsp;</A>
<H2>BUGS</H2>

The wide variety of data formats makes the application of
tides in a uniform manner problematic.
Bathymetry data collected in intertidal zones can end up
negative (above zero tide or chart datum) after correction
for tides. Many formats support flagging of bad bathymetry
only with negative depth values. Others actually have 
separate tidal correction values have to be applied to
the bathymetry as the data is read. We have yet to
develop a completely satisfactory scheme, and it is
likely that the functionality of the program will change.
Please let us know if you find any other problems.
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">VERSION</A><DD>
<DT><A HREF="#lbAD">SYNOPSIS</A><DD>
<DT><A HREF="#lbAE">DESCRIPTION</A><DD>
<DT><A HREF="#lbAF">AUTHORSHIP</A><DD>
<DT><A HREF="#lbAG">OPTIONS</A><DD>
<DT><A HREF="#lbAH">EXAMPLES</A><DD>
<DT><A HREF="#lbAI">BUGS</A><DD>
</DL>
<HR>
</PRE>

<CENTER><P><BR>
Last Updated: 13 July 2001</P></CENTER>

<HR>
<P><A HREF="mbsystem_man_list.html">Return to list of MB-System manual pages...</A></P>
<P><A HREF="mbsystem_home.html"><IMG SRC="mbsystem_logo_small.gif" BORDER=0 HEIGHT=55 WIDTH=158 ALIGN=BOTTOM></A><A HREF="mbsystem_home.html">Back
to MB-System Home Page...</A></P>

</BODY>
</HTML>
