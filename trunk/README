----------------------------------------
MB-SYSTEM VERSION 5.0.BETA00 README FILE:
----------------------------------------

This README file pertains to the version 5.0.beta00 release  
of the MB-System software package for processing and display of 
swath sonar data. This file is located in the top directory
of the MB-System 5.0.beta00 release distribution.

------------------------------------------
MB-SYSTEM VERSION 5.0.BETA00 RELEASE NOTES:
------------------------------------------

RELEASE DATE:
------------
April 9, 2001    (Release of version 5.0.beta00)

SPECIAL NOTE FOR BETA RELEASE:
-----------------------------
This is a preliminary release of MB-System version 5.0.0
for the purpose of beta testing by experienced and
knowledgeable MB-System users. We caution users that this
release is likely to contain significant bugs. We also
caution users that the documentation contained in this
preliminary release is incomplete. In particular, the
manual pages for the MBIO library (the primary i/o API
for MB-System) and mbnavadjust (a new MB-System tool)
are incomplete and incorrect. 

We do not recommend installing this preliminary release 
as a replacement for the current version (4.6.10). We do 
encourage users to install this release for the purpose
of testing new and old features. 

If you identify a problem with this release, please 
provide us with a description of the problem, particulars
of the installation (e.g. operating system and compile
flags), and a data sample associated with the problem.

AUTHORS:
--------
David W. Caress (caress@mbari.org)
Monterey Bay Aquarium Research Institute
7700 Sandholdt Road
Moss Landing, CA 95039

Dale N. Chayes (dale@ldeo.columbia.edu)
Lamont-Doherty Earth Observatory of Columbia University
Rte 9W
Palisades, NY 10964

COPYRIGHT:
---------
MB-System Copyright (C) 1993-2001
by David W. Caress and Dale N. Chayes
All Rights Reserved.

LICENSING:
---------
The MB-System source code is distributed under the GNU
General Public License as formulated by the GNU Project.
Previous MB-System distributions have been described as
"public domain", which meant there was no restrictions
whatsoever on the use of the code. We have now adopted the
more restrictive GNU GPL license in order to insure that
anyone who distributes software based in whole or in part on
MB-System also distributes the modified MB-System source
code and any additional source code.

The GNU GPL also prohibits the distribution of proprietary
executables linked with MB-System libraries unless the
source code is also distributed. We waive this restriction
on distributing proprietary compiled programs for specific
software products if and only if those software products
meet the following two conditions:
   1) The software product was created, sold, and
delivered to customers using source code derived from MB-
System release 4.6 distributions.
   2) The software product was sold and delivered to
customers prior to January 1, 2001.

CAVEAT:
------
The MB-System does not come with any warranties, nor is it
guarenteed to work on your computer or to do anything useful.  
The user assumes full responsibility for the use of this system.  
In particular, David W.  Caress, Dale N. Chayes, the Monterey Bay 
Aquarium Research Institute, the Lamont-Doherty Earth Observatory 
of Columbia University, or any other individuals or organizations 
involved in the design and maintenance of the MB-System software 
package are NOT responsible for any damage that may follow from 
correct or incorrect use of these programs.

WHAT'S NEW IN MB-SYSTEM VERSION 5:
---------------------------------
The version 5.0 release of MB-System includes a number of
changes and improvements relative to the version 4 releases. The
most significant changes include: 

- A new approach to managing data processing. 
    Many tools - one output file. In previous versions of
        MB-System, each processing program read an input
        swath data file and produced an output swath data
        file. This "serial" processing scheme generally
        produced a large number of intermediate data files.
        MB-System version 5.0 features the integration of
        the editing and analysis tools with a single program,
        mbprocess, that outputs processed data files. The new
        "parallel" processing scheme covers bathymetry data
        processing, but does not yet incorporate the sidescan
        processing capabilities. All of the old tools and
        capabilities are still part of the distribution. 
    Recursive datalists. The lists of data files used by
        gridding and plotting programs can now be recursive,
        making it simpler to manage data from many
        different surveys. 
    Automatic format identification. MB-System
        programs will now attempt to automatically identify
        the swath data format based on the filename suffix. 
    Extended inf files. Users can generate inf files by
        directing the output of mbinfo to a file named by
        adding an ".inf" suffix to the swath data file name.
        Several programs can parse inf files, if they exist, to
        quickly obtain data locations or ranges. This feature
        speeds operations such as gridding, mosaicing, and
        automated plotting. 

- New tools. 
    MBnavadjust. This new tool allows users to adjust
        poorly navigated surveys by matching features in
        overlapping swathes. It is particularly useful for
        processing surveys conducted from submerged
        platforms. 
    MBprocess. This new tool performs a variety of
        processing tasks and produces a single output
        processed swath data file. The program mbprocess
        can apply bathymetry edits from mbedit and mbclean,
        navigation edits from mbnavedit, sound velocity
        profile changes from mbvelocitytool, and a variety of
        other corrections. 
    MBset. This new tool allows users to create and
        modify the parameter files used to control the
        operation of mbprocess. 
    MBsvplist. This new tool lists water sound velocity
        profiles embedded in swath data files, creating
        secondary files that can be read into MBvelocitytool. 

- Improved bathymetry and navigation editors. 
    MBedit and MBnavedit now swallow data files
        whole rather than reading in limited size buffers. 
    MBedit now outputs beam edit events rather than an
        entire swath file. The edits are applied by MBprocess.
    MBnavedit now outputs the edited navigation rather
        than an entire swath file. The edited navigation is
        merged using MBprocess. 
    Both editors show the position of the currently
        displayed data within the entire data file. 
    MBnavedit has two navigation modeling modes
        relevant to swath data collected using poorly
        navigated ROVs and towfishes. One mode applies a
        dead reckoning model with interactively set drifts,
        and the other involves inverting for an optimally
        smooth navigation by penalizing speed and
        acceleration.

- Restructuring the code. 
    All of the C code now conforms to the ANSI C
        standard. 
    The underlying input/output library (MBIO) has been
        substantially rewritten. The structure has been
        streamlined, simplifying both future development and
        support of the existing code. The MBIO API has been
        greatly modified. 

- Handling of old Simrad multibeam data. 
    Vendor format data from the old Simrad multibeams
        (pre-1997 sonars) are now supported by a single
        format id (51) rather than a separate format id for
        each sonar model. The old format id's are
        automatically aliased to 51, so existing shellscripts
        will continue to work. 
    Sidescan data from old Simrad multibeams (pre-1997
        sonars) are now handled in the same manner as data
        from the newer sonars (e.g. EM3000, EM3000,
        EM120). The raw samples in the vendor data format
        are binned, averaged, and interpolated into a 1024
        pixel sidescan swath. This binned sidescan is not
        saved in the vendor format, so it is recommended that
        the data be copied to an extended format (57) that
        stores both bathymetry beam flags and processed
        sidescan. Format 57 is also used for processing data
        from the current Simrad multibeam sonars. 

- New Data Formats.
    Furuno HS10 multibeam bathymetry is supported as format 171. 
    SeaBeam 2120 multibeam data in the L3 Communications 
        XSE format are supported.

HOW TO GET MB-SYSTEM:
--------------------
The source code for MB-System is available as a compressed tar 
archive by anonymous ftp to the Lamont-Doherty Earth Observatory 
of Columbia University (ftp://ftp.ldeo.columbia.edu/pub/swath_data/).

OTHER REQUIRED SOFTWARE:
------------------------
MB-System requires a number of other software packages and 
databases to be fully functional.
These are:

- GMT version 3.0 or later: 
    MB-System makes use of the Generic Mapping Tools (GMT)
    libraries and programs for much of its graphics. GMT 
    also includes a detailed global coastline database. 
    GMT has been developed by Professor Paul Wessel of 
    SOEST (School of Ocean and Earth Science and Technology 
    at the Univeristy of Hawaii) and Dr. Walter H. F. Smith 
    of NOAA. The GMT source code is available from the GMT 
    web page. Use of GMT version 3.3 is strongly recommended. 
- NetCDF version 2.3r2 or later: 
    Both GMT and MB-System require the NCAR netCDF library. 
- Perl version 4.0r19 or later: 
    Perl is a fast, well documented scripting language 
    used widely in the Unix world. MB-System contains a 
    number of perl scripts used both for installation
    and to ease common tasks. Most of the current Unix 
    operating systems include perl. If you need to obtain 
    the perl source code, first check with your local 
    system administrator - you will probably find perl 
    already available locally. The perl source code can 
    be obtained from the GNU Project software archive 
    of the Free Software Foundation. 
- Motif: 
    The interactive graphical utilities in MB-System 
    (e.g. data editors) use the Motif widget set, and 
    Motif-compatible libraries or equivalent are required 
    for these utilities to be built and to run. Most current 
    Unix operating systems include the required Motif 
    libraries. If you do not have these libraries, there 
    are options. The libraries can be purchased from one 
    of several vendors. An open source Motif-compatible 
    distribution called LessTif has been available for 
    some time, and works well with MB-System. Most 
    significantly, the Motif source itself has been released 
    as open source and free, compiled versions are now 
    available through Motifzone for most Unix platforms. 
- Levitus Database: 
    The MB-System program mblevitus depends on a 16 MByte 
    data file that is not included in the MB-System tarfile. 
    This file (annual.gz) is available in the same location
    as the MB-System distribution. Be sure to uncompress the
    file and to set the "LEVITUS" flag in the install_makefiles 
    appropriately, as described below in the installation section. 

MB-System produces Postscript based graphics. Most current 
Unix operating systems provide a program which serves as a 
screen-based Postscript viewer. If you do not have a Postscript 
viewer, one option is to obtain the Ghostscript package from 
the Free Software Foundation.

- Ghostview: 
    "Free" screen Postscript viewer. The source code can be 
    obtained from the GNU Project software archive of the 
    Free Software Foundation. 

HOW TO INSTALL MB-SYSTEM:
------------------------
The MB-System source code is extracted by first uncompressing
the tar file and then running tar:

    % uncompress MB-System.tar.gz
    % tar xvf MB-System.tar

This will create a directory structure called mbsystem. In order to
configure your installation, you must edit the shellscript
mbsystem/install_makefiles. This is perl script will read template
makefiles in the MB-System source directories and create
makefiles with the correct attributes. This enables users to install
MB-System without having to edit the makefiles. Instead of
editing the makefiles directly, the installer should edit this script
so that the locations of important libraries and include files are
accurate and so that the compile and link flags are correct.

The important parameters to be set in install_makefiles are:
    MBSYSTEM_HOME - Absolute path to the directory
        containing this file. 
    OS Operating system - (e.g. SUN, IRIX, HPUX, LINUX,
        LYNX). 
    BYTESWAPPED - If set to "YES" will enable byte
        swapping of input and output binary data. Otherwise byte
        swapping is disabled. Byte swapping needs to be enabled
        when installing on "little endian" machines such as PCs or
        VAXs. 
    CC - C compiler to be used (optional). 
    CFLAGS - Compile flags for C source files. 
    LFLAGS - Load flags for all object files. 
    GRAPHICAL - If set to "YES" will enable the installation
        of the Motif based graphical utilities mbedit, mbnavedit,
        and mbvelocitytool. If Motif is not available but the
        nongraphical utilities are desired then disable with "NO"
        (optional, default is "YES"). 
    MOTIFINCDIR - Location of Motif include files. 
    MOTIFLIBS - X and Motif libraries required for graphical
        tools. 
    GMTVERSION - GMT version used. GMT version 3.2 is
        used by default; this parameter must be set to "3.0" or "3.1"
        to successfully link with libraries from either of those
        versions. 
    GMTLIBDIR - Location of GMT libraries libgmt.a and
        libpsl.a 
    GMTINCDIR - Location of GMT include files gmt.h,
        grd.h, and pslib.h 
    NETCDFDIR - Location of NetCDF library libnetcdf.a 
    LEVITUS - Path for Levitus data file annual. 

Examples of appropriate values for several different installations
(e.g. Sun, SGI, PC) are included in the comments in
install_makefiles. To execute install_makefiles, do the following:

    % cd mbsystem 
    % install_makefiles

Because install_makefiles is a perl script, the executable perl must
be available in the installer's path. Once install_makefiles has
been correctly configured and run, give the command "make all"
to generate the executable programs:

    % make all

The make command will descend recursively down through the
directory structure, compiling source files, linking object files,
and copying executables and manual pages to the appropriate
directories. The executables will be placed in mbsystem/bin, the
libraries in mbsystem/lib, and the manual pages in
mbsystem/man/man1.

Naturally, in order for users to use the MB-System utilities, the
directory containing the executables must be included in their
path (usually this is done by editing the .cshrc file in the user's
home directory). The executable perl must also be available in the
user's path for most of the macros to work.

Most users will also wish to specify which program they
generally use to view Postscript plots on their screen. This
parameter can be set either with the mbdefaults program or using
the PS_VIEWER environment variable - the former is
recommended (see the mbdefaults manual page for details). On
Sun workstations pageview is a popular Postscript viewer; on
Silicon Graphics machines xpsview is commonly used. A popular
generic alternative to these platform specific programs is
ghostview.

MB-SYSTEM UPDATES:
-----------------
We generally only announce major releases, such as 5.0, 5.1, 
5.2, etc. However, incremental bug fixes and code changes 
often occur between the major releases, and these may be
reflected in the source code archives available via anonymous 
ftp at ftp.ldeo.columbia.edu. When changes are made to the 
distributed source code, this is reflected in the names of the
compressed tar files in the ftp archive. For example, the 
initial MB-System 5.0 distribution will be available in a file 
called MB-System5.0.0.tar.gz. After the first incremental update, 
the filename will change to MB-System5.0.1.tar.gz; subsequent
incremental updates will be 5.1.2, 5.1.3, etc. At all times, 
a link to the current MB-System distribution file called 
MB-System.tar.gz will be maintained in the ftp archive; this 
allows these Web pages to always access the current distribution. 

"SUPPORTED" PLATFORMS:
---------------------
The source code for MB-System is written in ANSI C and 
should be portable to all Unix platforms. To date, 
MB-System has been successfully installed on PC's and 
Macintoshes running Linux, Sun workstations running 
under SunOS4.1 and Solaris, Silicon Graphics (SGI) 
workstations running under IRIX, Hewlett Packard 
workstations, Dec Alpha workstations, and PC's running 
under the Lynx realtime operating system.
 
WEB BASED DOCUMENTATION:
-----------------------
The html documentation consists of a number of html
documents and images in the directory mbsystem/html.
This documentation also comprises the MB-System
web page available from the Lamont home page at:
        http://www.ldeo.columbia.edu
Users can access the documentation in their own MB-System
installation by using a web browser and accessing the file:
        file:/usr/local/mbsystem/html/mbsystem_home.html
(here it is assumed that MB-System has been installed
in /usr/local). Currently, the documentation includes some
general information about MB-System (e.g. who wrote, how to
get it, how to install it) and a complete set of manual
pages. In the future we will add increasing amounts of 
information including examples of using MB-System.

PROJECT FUNDING:
---------------
We are pleased to be receiving five more years of 
NSF funding for the support and development of MB-System. 
The new grant runs from 2001 through 2005. This project 
is also supported by the Monterey Bay Aquarium
Research Institute.

CONTRIBUTIONS: 
-------------
We are actively soliciting contributions for inclusion in the
MB-System. In particular support for additional data formats in the
mbio.a library would be helpful, as would new, clever 
tools for data manipulation and processing.  We thank 
those who have already contributed to MB-System.

SUGGESTIONS:
------------
We are interested in your suggestions.

BUGS:
-----
There are undoubtably bugs in this software. Although we
make no promises about how rapidly problems will be fixed, we
strongly encourage users to notify us of bugs (and fixes!!).
We will continue to support this software for the forseeable
future.

ACKNOWLEDGMENTS:
----------------
A number of people have made contributions to the code
included in MB-System.  These include:
    Suzanne O'Hara (Lamont-Doherty Earth Observatory) 
    Daniel Scheirer (Brown University) 
    Paul Cohen (SeaBeam Instruments, now Fidelity Investments) 
    Steve Dzurenko (SeaBeam Instruments, now University of Texas) 
    Peter Lemmond (Woods Hole Oceanographic Institution) 
    David Brock (formerly with Antarctic Support Associates) 
    Alberto Malinverno (Lamont-Doherty Earth Observatory, 
                            later at Schlumberger-Doll) 
    Russ Alexander (formerly with UCSB) 

Numerous users and vendors have provided information regarding 
data file formats and sonar system specific characteristics.

Good mapping!!

Dave Caress caress@mbari.org
Dale Chayes dale@ldeo.columbia.edu

------------------------------------------------------------------------

RCS ID: $Id: README,v 5.2 2001-04-11 19:09:41 caress Exp $

Revision History:
$Log: not supported by cvs2svn $
# Revision 5.1  2001/04/09  20:36:05  caress
# Real text for 5.0.beta00
#
# Revision 5.0  2001/04/06  22:17:58  caress
# First cut at version 5.0.beta00
#
# Revision 4.22  2000/09/26  20:32:27  caress
# Fixed reference to ftp site.
#
# Revision 4.21  2000/03/08  01:19:08  caress
# Release 4.6.10
#
# Revision 4.20  1999/09/16  23:09:54  caress
# Real version 4.6.6 release notes
#
# Revision 4.19  1999/09/15  21:29:37  caress
# Version 4.6.6 Release Notes
#
# Revision 4.18  1999/05/07  00:30:38  caress
# Version 4.6a release
#
# Revision 4.17  1999/04/16  00:26:05  caress
# Final 4.6 release?
#
# Revision 4.16  1998/12/17  23:09:42  caress
# MB-System version 4.6beta4
#
# Revision 4.15  1998/10/05  22:12:48  caress
# MB-System version 4.6beta
#
# Revision 4.14  1997/09/15  21:33:33  caress
# Fixed typo.
#
# Revision 4.13  1997/09/15  19:02:15  caress
# Real Version 4.5
#
# Revision 4.12  1997/04/21  16:51:19  caress
# MB-System 4.5 Beta Release.
#
# Revision 4.12  1997/04/17  17:37:59  caress
# MB-System 4.5 Beta Release.
#
# Revision 4.11  1996/09/05  12:57:11  caress
# Actual V4.4 release.
#
# Revision 4.10  1996/08/26  15:38:28  caress
# Release 4.4 revision.
#
# Revision 4.9  1996/01/26  21:32:53  caress
# Revision for real version 4.3 release.
#
# Revision 4.8  1995/08/17  16:34:39  caress
# Revision for release 4.3.
#
# Revision 4.7  1995/02/14  22:25:56  caress
# Version 4.2 Release
#
# Revision 4.6  1994/11/18  16:37:15  caress
# *** empty log message ***
#
# Revision 4.5  1994/10/21  21:54:24  caress
# Release V4.0
#
# Revision 4.4  1994/10/21  17:42:43  caress
# Release V4.0
#
# Revision 4.3  1994/10/21  13:29:54  caress
# Release V4.0
#
# Revision 4.2  1994/10/20  21:30:31  caress
# Release V4.0
#
# Revision 4.1  1994/08/03  21:00:43  dale
# Update for Beta issues......
#
# Revision 4.0  1994/03/05  23:06:24  caress
# Changes for release 4.0.
#
# Revision 3.7  1993/12/14  22:15:56  caress
# Changed for release version 3.4
#
# Revision 3.6  1993/11/06  21:24:39  caress
# Added discussion of src/realtime directory.
#
# Revision 3.5  1993/11/05  21:25:02  caress
# Added discussion of how to run make to generate the executables.
#
# Revision 3.4  1993/11/05  14:59:04  caress
# Some small changes by Dale.
#
# Revision 3.3  1993/11/04  17:46:36  caress
# Updated for version 3.3.  Added where to get required
# software packages and what Makefile to change to fit
# local environments.
#
# Revision 3.2  1993/08/25  14:41:41  dale
# Add porting, and requirements, and bugs and stuff for 3.2
#
# Revision 3.1  1993/04/22  16:09:21  dale
# Update and clarify the text, add third reason
#
# Revision 3.0  1993/04/22  16:04:29  dale
# *** empty log message ***
#

