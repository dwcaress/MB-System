MB-SYSTEM VERSION 4.6 RELEASE NOTES:
-----------------------------------

This directory structure contains the version 4.6 release  
of the MB-System software package for processing and display of 
swath sonar data. Version 4.6 includes significant enhancements
relative to version 4.5. 

The primary enhancements for version 4.6 include support
for four new data formats and a large number of bug fixes.

The first newly supported format is the Generic Sensor 
Format (GSF) developed by Science Applications International 
Corporation (SAIC) and used by SAIC, the U.S. Navy, and other
SAIC customers. This format itself supports data from a
number of different sonars.

The second new format is MSTIFF, a TIFF file variant used
in conjunction with PC Sea Scan towed sidescan sonars.

The two additional new formats involve data from Simrad
EM300 and EM3000 sonars. The raw vendor format for the
current generation of Simrad sonars is supported as MBIO 
format 56. A similar, but enhanced processing/archiving format
is supported as MBIO format 57.

Minor enhancements and bug fixes include:

All MB-System programs now print out the MB-System version
number when run with the -h option.

The programs mbgrid and mbmosaic now handle longitude and
latitude bounding values given in dd:mm:ss as well as in
decimal degrees. This means that the -R option for these
programs is fully compatible with GMT conventions.

The program mbclean once again works properly with large
data files.

The program mbbath, which is used to recalculate swath
bathymetry data, has been improved. This program now handles 
the surface sound velocity in a more flexible (and in some
cases more realistic) fashion. Users can also now use
mbbath to apply changes to the roll and pitch bias values 
without recalculating the bathymetry from travel times by
raytracing. This allows users to correct roll bias problems
in bathymetry data which does not include travel times and
angles (e.g. SeaBeam 2000 data).

The plotting macros (mbm_plot, mbm_grdplot, mbm_grd3dplot,
and mbm_xyplot) now generate plotting shellscripts which
have the major parameters defined at the beginning as 
environment variables. This makes editing of the scripts
easier.

The program mbnavedit now operates on the asynchronous
navigation data records in Simrad vendor formats
(MBIO formats 51, 52, 53, 55, and 56), allowing
the navigation to actually be edited.

Of course, a larger number of minor bug fixes are also 
incorporated in the new release.

RELEASE DATE:
------------
December 17, 1998

Authors:
--------
David W. Caress (caress@mbari.org)
Monterey Bay Aquarium Research Institute
P.O. Box 628
Moss Landing, CA 95039-0628

Dale N. Chayes (dale@ldeo.columbia.edu)
Lamont-Doherty Earth Observatory of Columbia University
Rte 9W
Palisades, NY 10964

Copyright:
----------
MB-System Copyright 1993-1998
by David W. Caress and Dale N. Chayes
All Rights Reserved.

Caveat:
-------
The MB-System does not come with any warranties, nor is it
guarenteed to work on your computer or to do anything useful.  The
user assumes full responsibility for the use of this system.  In
particular, David W.  Caress, Dale N. Chayes, the Lamont-Doherty 
Earth Observatory of Columbia University, the Monterey Bay 
Aquarium Research Institute, SeaBeam Instruments Inc.,  
or any other individuals or organizations involved in the design 
and maintenance of the MB-System software package are NOT 
responsible for any damage that may follow from correct or 
incorrect use of these programs.

Other required software:
------------------------
You will need some other readily available code to use
MB-System fully.  MB-System uses the GMT 3.0 package plus extensions
for much of its graphics, and GMT requires NetCDF. Some of the 
MB-System utilities (macros) are written in the Perl scripting
language. The source code for these required software packages
is available as follows:

	MB-System v 4.6
	- available from L-DEO via anonymous ftp to
	  lamont.ldeo.columbia.edu
	- compressed tar file MB-System4.6.tar.Z
	  in directory pub/swath_data

	GMT v 3.0
	- available from SOEST (U. Hawaii) via anonymous ftp to
	  kiawe.soest.hawaii.edu
	- compressed tar files in directory pub/gmt

	Net-CDF v 2.3r2 or later
	- available from NCAR via anonymous ftp to 
	  unidata.ucar.edu
	- compressed tar file netcdf.tar.Z

	PERL v 4.0r19 or later
	- available via anonymous ftp to ftp.uu.net,
	- compressed tar file perl-4.0.19.tar.Z in directory gnu
	- also available on CD as part of the O'Rielly 
	  "Unix Power Tools" book.

MB-System Updates:
-----------------
We generally only announce major releases, such as 4.2, 4.3,
4.4, etc. However, incremental bug fixes and code changes
often occur between the major releases, and these may be
reflected in the source code archives available via
anonymous ftp at lamont.ldeo.columbia.edu. When changes are
made to the distributed source code, this is reflected in
the names of the compressed tar files in the ftp archive.
For example, the initial MB-System 4.6 distribution will be
available in a file called MB-System4.6.tar.Z. After the
first incremental update, the filename will change to
MB-System4.6a.tar.Z; subsequent incremental updates will
be 4.6b, 4.6c, etc.  At all times, a link to the current
MB-System distribution file called MB-System.tar.Z will be
maintained in the ftp archive; this allows the Lamont World
Wide Web page to always access the current distribution.

Installing MB-System:
--------------------
The MB-System source code is extracted by first uncompressing
the tar file and then running tar:

		% uncompress MB-System4.6.tar.Z
		% tar xvf MB-System4.6.tar

This will create a directory structure called mbsystem. 
In order to configure your installation, you must edit the
shellscript mbsystem/install_makefiles.  This is perl script
will read template makefiles in the MB-System source directories 
and create makefiles with the correct attributes.
This enables users to install MB-System without having to edit
the makefiles.  Instead of editing the makefiles directly, the
installer should edit this script so that the locations of
important libraries and include files are accurate and so that
the compile and link flags are correct.

The important parameters to be set in install_makefiles are:

 	MBSYSTEM_HOME	Absolute path to the directory containing
 				this file.
 	OS		Operating system (e.g. SUN, IRIX, or LYNX).
 	BYTESWAPPED	If set to "YES" will enable byte swapping
 				of input and output binary data.
 				Otherwise byte swapping is disabled.
 				Byte swapping needs to be enabled
 				when installing on "little endian"
 				machines such as PCs or VAXs.
 	CC		C compiler to be used (optional).
 	CFLAGS		Compile flags for C source files.
 	LFLAGS		Load flags for all object files.
	GRAPHICAL	If set to "YES" will enable the installation
			of the Motif based graphical utilities mbedit,
			mbnavedit, and mbvelocitytool. If Motif is not
			available but the nongraphical utilities are 
			desired then disable with "NO" (optional, 
			default is "YES").
        MOTIFINCDIR	Location of Motif include files.
        MOTIFLIBS	X and Motif libraries required for graphical tools.
 	GMTLIBDIR	Location of GMT libraries libgmt.a and libpsl.a
 	GMTINCDIR	Location of GMT include files gmt.h, grd.h,
 				and pslib.h
 	NETCDFDIR	Location of NetCDF library libnetcdf.a
 	LEVITUS		Path for Levitus data file annual.

Examples of appropriate values for several different installations
(e.g. Sun, SGI, PC) are included in the comments in install_makefiles.
To execute install_makefiles, do the following:

		% cd mbsystem
		% install_makefiles

Because install_makefiles is a perl script, the executable
perl must be available in the installer's path. Once install_makefiles 
has been correctly configured and run,  give the command "make all" 
to generate the executable programs:

		% make all

The make command will descend recursively down through the
directory structure, compiling source files, linking object files,
and copying executables and manual pages to the appropriate
directories.  The executables will be placed in mbsystem/bin, the
libraries in mbsystem/lib, and the manual pages in mbsystem/man/man1.

Naturally, in order for users to use the MB-System utilities,
the directory containing the executables must be included in their
path (usually this is done by editing the .cshrc file in the user's
home directory).  The executable perl must also be available in the
user's path for most of the macros to work.

Most users will also wish to specify which program they
generally use to view Postscript plots on their screen. This
parameter can be set either with the mbdefaults program or
using the PS_VIEWER environment variable - the former is
recommended (see the mbdefaults manual page for details). On
Sun workstations pageview is a popular Postscript viewer; on
Silicon Graphics machines xpsview is commonly uses. A popular
generic alternative to these platform specific programs is
ghostview.

"Supported" Platforms:
----------------------
Current versions of MB-System have been successfully
installed on Silicon Graphics (SGI) single and multiple
processor platforms running under the IRIS operating system
(versions 5.2, 5.3, 6.0, and 6.2), on Sun workstations running
under the SunOS 4.1 and Solaris operating systems, on
Hewlett Packard workstations, on IBM workstations, and on
486 PC's running under LynxOS (a realtime Unix variant).
Its a fair bet that if you provide us with a really cool 
(ie. FAST) computer of your choice, we might be inclined
to try making MB-System run on it.

Levitus Database:
--------------------------
The program mblevitus depends on a 16 MByte data file that is not
included in the MB-System tarfile.  It is in the 'annual.Z' file which
is available by anonymous ftp from lamont.ldgo.columbia.edu in the
pub/swath_data subdirectory.

Porting:
--------
MB-System is not tightly coupled to any particular OS. 
We hope to make future releases portable and would be quite 
pleased to get feedback from porting efforts so that we can fold 
that back into the package. Eventually, we expect that the code will 
be POSIX compliant and we will be able to stay in the mainstream of 
the evolution of GUIs and WIMPS.

Motif:
--------------------------
The graphical tools mbedit, mbnavedit, and mbvelocitytool 
now use the Motif widget set rather than the XVIEW widget 
set used prior to version 4.0.  Motif libraries are required 
to successfully link and install these programs. 
 
Web Based Documentation:
--------------------------
The html documentation consists of a number of html
documents and images in the directory mbsystem/html.
This documentation also comprises the MB-System
web page available from the Lamont home page at:
	http://www.ldeo.columbia.edu
Users can access the documentation in their own MB-System
installation by using a web browser and accessing the file:
	file:/usr/local/mbsystem/html/mbsystem_home.html
(here it is assumed that MB-System has been installed
in /usr/local). Currently, the documentation includes some
general information about MB-System (e.g. who wrote, how to
get it, how to install it) and a complete set of manual
pages. In the future we will add increasing amounts of 
information including examples of using MB-System.

Continued Support:
-----------------
We are pleased to have received five years of continued 
NSF funding for the support and development of MB-System. 
We are now early the fourth year of this NSF project. 
This project is also supported by the Monterey Bay Aquarium
Research Institute.

Contributions: 
--------------
We are actively soliciting contributions for inclusion in the
MB-System. In particular support for additional data formats in the
mbio.a library would be helpful, as would new, clever 
tools for data manipulation and processing.  We thank 
those who have already contributed to MB-System.

Suggestions:
------------
We are interested in your suggestions.

Bugs:
------------
There are undoubtably bugs in this software. Although we
make no promises about how rapidly problems will be fixed, we
strongly encourage users to notify us of bugs (and fixes!!).
We will continue to support this software for the forseeable
future.

Acknowledgments:
------------
A number of people have made contributions to the code
included in MB-System.  These include:
	Suzanne O'Hara (Lamont-Doherty Earth Observatory) 
	Daniel Scheirer (Brown University) 
	Paul Cohen (SeaBeam Instruments) 
	Steve Dzurenko (SeaBeam Instruments)
 	Peter Lemmond (Woods Hole Oceanographic Institution) 
	David Brock (formerly with Antarctic Support Associates) 
	Alberto Malinverno (Schlumberger-Doll) 
	Russ Alexander (formerly with UCSB) 

Numerous users and vendors have provided information regarding 
data file formats and sonar system specific characteristics.

Good mapping!!

Dave Caress caress@mbari.org
Dale Chayes dale@ldeo.columbia.edu

------------------------------------------------------------------------

RCS ID: $Id: README,v 4.16 1998-12-17 23:09:42 caress Exp $

Revision History:
$Log: not supported by cvs2svn $
# Revision 4.15  1998/10/05  22:12:48  caress
# MB-System version 4.6beta
#
# Revision 4.14  1997/09/15  21:33:33  caress
# Fixed typo.
#
# Revision 4.13  1997/09/15  19:02:15  caress
# Real Version 4.5
#
# Revision 4.12  1997/04/21  16:51:19  caress
# MB-System 4.5 Beta Release.
#
# Revision 4.12  1997/04/17  17:37:59  caress
# MB-System 4.5 Beta Release.
#
# Revision 4.11  1996/09/05  12:57:11  caress
# Actual V4.4 release.
#
# Revision 4.10  1996/08/26  15:38:28  caress
# Release 4.4 revision.
#
# Revision 4.9  1996/01/26  21:32:53  caress
# Revision for real version 4.3 release.
#
# Revision 4.8  1995/08/17  16:34:39  caress
# Revision for release 4.3.
#
# Revision 4.7  1995/02/14  22:25:56  caress
# Version 4.2 Release
#
# Revision 4.6  1994/11/18  16:37:15  caress
# *** empty log message ***
#
# Revision 4.5  1994/10/21  21:54:24  caress
# Release V4.0
#
# Revision 4.4  1994/10/21  17:42:43  caress
# Release V4.0
#
# Revision 4.3  1994/10/21  13:29:54  caress
# Release V4.0
#
# Revision 4.2  1994/10/20  21:30:31  caress
# Release V4.0
#
# Revision 4.1  1994/08/03  21:00:43  dale
# Update for Beta issues......
#
# Revision 4.0  1994/03/05  23:06:24  caress
# Changes for release 4.0.
#
# Revision 3.7  1993/12/14  22:15:56  caress
# Changed for release version 3.4
#
# Revision 3.6  1993/11/06  21:24:39  caress
# Added discussion of src/realtime directory.
#
# Revision 3.5  1993/11/05  21:25:02  caress
# Added discussion of how to run make to generate the executables.
#
# Revision 3.4  1993/11/05  14:59:04  caress
# Some small changes by Dale.
#
# Revision 3.3  1993/11/04  17:46:36  caress
# Updated for version 3.3.  Added where to get required
# software packages and what Makefile to change to fit
# local environments.
#
# Revision 3.2  1993/08/25  14:41:41  dale
# Add porting, and requirements, and bugs and stuff for 3.2
#
# Revision 3.1  1993/04/22  16:09:21  dale
# Update and clarify the text, add third reason
#
# Revision 3.0  1993/04/22  16:04:29  dale
# *** empty log message ***
#

